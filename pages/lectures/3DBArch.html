<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecture 03 - Database Architecture - CSCI 5603</title>
    
    <!-- Database Design Presentation Styles with Theme Support -->
    <link rel="stylesheet" href="../../styles/presentation.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    
    <!-- Import Courier Prime for analog feel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lecture-Specific Styles -->
    <style>
        /* Override font for analog feel */
        body, .slide, h1, h2, h3, p, li {
            font-family: 'Courier Prime', 'IBM Plex Mono', 'Courier New', monospace !important;
        }
        
        /* Database-specific styling */
        .erd-diagram {
            background: var(--bg-accent);
            border: 2px solid var(--border-color);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier Prime', monospace;
        }

        /* SQL syntax highlighting classes now in presentation.css */

        .table-schema {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-family: 'IBM Plex Mono', monospace;
        }
        
        .table-schema th {
            background: var(--ocu-true-blue);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .table-schema td {
            border: 1px solid var(--border-color);
            padding: 10px;
            background: var(--bg-secondary);
        }
        
        .table-schema tr:nth-child(even) td {
            background: var(--bg-accent);
        }

        /* JSON and XML syntax highlighting classes now in presentation.css */
    </style>
</head>
<body>
    <!-- Theme toggle will be automatically added by JavaScript -->
    
    <div class="presentation-container">
        <!-- Timer display -->
        <div class="timer-display" id="timer-display">
            <span id="timer-text">Lecture 03 - Database Architecture
                 <button class="home"><a href="../../index.html">Home</a></button>
            </span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>Database Architecture</h1>
            <h2>Understanding DBMS Structure <span class="emoji">ğŸ—ï¸</span></h2>
            <p style="font-size: 1.5em; margin-top: 40px;">CSCI 5603 - Database Design</p>
            <p style="font-size: 1.3em;">Week 2, Lecture 3</p>
            <p style="margin-top: auto; font-style: italic;">Building robust database foundations for tomorrow's applications!</p>
        </div>

        <!-- Slide 2: Learning Objectives -->
        <div class="slide">
            <h1>Today's Learning Objectives</h1>
            <ul style="font-size: 1.4em; line-height: 2;">
                <li>ğŸ¯ Master the ANSI-SPARC three-level database architecture</li>
                <li>ğŸ¯ Understand DBMS controlled access features (security, integrity, concurrency, recovery)</li>
                <li>ğŸ¯ Analyze three-tier application architecture components</li>
                <li>ğŸ¯ Compare centralized vs. distributed database architectures</li>
                <li>ğŸ¯ Explore modern cloud and microservices database patterns</li>
                <li>ğŸ¯ Apply architectural principles to system design scenarios</li>
            </ul>
        </div>

        <!-- Slide 3: Historical Context -->
        <div class="slide">
            <h1>Historical Context <span class="emoji">ğŸ“œ</span></h1>
            <h2>Before the Relational Era</h2>

            <div class="concept-box">
                <h3>Pre-Relational Models (1960s)</h3>
                <p style="font-size: 1.15em; line-height: 1.7;">Before the relational model, the <strong>Hierarchical Model</strong> (exemplified by IBM's IMS) and the <strong>Network Model</strong> (CODASYL) were the dominant database architectures. These systems enforced both fixed schemas and rigid access paths, making structural changes extremely difficult and limiting flexibility.</p>
            </div>

            <div class="concept-box">
                <h3>The Three-Schema Architecture (1970s)</h3>
                <p style="font-size: 1.15em; line-height: 1.7;">The concept of the three-schema architecture (External, Conceptual, Internal) was developed in the 1970s as a foundational framework to achieve <strong>data independence</strong>â€”a key architectural goal for modern DBMS. This separation of concerns allowed changes at one level without impacting others.</p>
            </div>

            <div class="tip-box">
                <strong>Key Insight:</strong> The evolution from hierarchical/network models to the three-schema architecture laid the groundwork for the flexibility we expect from modern databases.
            </div>
        </div>

        <!-- Slide 4: Quick Recap from Last Week -->
        <div class="slide">
            <h1>Quick Recap: Last Week's Foundations <span class="emoji">ğŸ“š</span></h1>

            <div class="demo-box">
                <h3>What We Learned in Lecture 2:</h3>
                <ul style="font-size: 1.2em; line-height: 1.8;">
                    <li><strong>File-Based Systems:</strong> Separate programs managing their own data (CSV, XML, JSON)</li>
                    <li><strong>Five Key Limitations:</strong> Data separation, duplication, dependence, incompatible formats, fixed queries</li>
                    <li><strong>The Database Solution:</strong> Shared collection of logically related data + DBMS</li>
                    <li><strong>Database Languages:</strong> DDL (define structure) and DML (manipulate data)</li>
                    <li><strong>Database Roles:</strong> DA, DBA, Designers, Programmers, End Users</li>
                </ul>
            </div>

            <div class="success-box">
                <h3>Key Takeaway:</h3>
                <p style="font-size: 1.2em;">Databases emerged to solve file-based system problems through centralization, data independence, and controlled access.</p>
            </div>
        </div>

        <!-- Slide 5: Today's Focus -->
        <div class="slide">
            <h1>Today's Focus: Database Architecture <span class="emoji">ğŸ—ï¸</span></h1>

            <div class="demo-box">
                <h3>From "Why Databases?" to "How Databases Work"</h3>
                <p style="font-size: 1.2em;">Last week we learned <strong>why</strong> databases are better than file systems. Today we'll explore <strong>how</strong> databases are actually structured and organized.</p>
            </div>

            <div class="erd-diagram" style="padding: 30px;">
                <pre style="text-align: center; font-size: 1.0em;">
    Today's Architectural Journey:

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ANSI-SPARC Three-Level Arch   â”‚ â† How DBMS separates concerns
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Three-Tier Application Arch   â”‚ â† How apps connect to databases
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Centralized vs. Distributed    â”‚ â† How databases scale globally
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>

            <div class="tip-box">
                <strong>Learning Goal:</strong> Understand the architectural decisions that make modern database systems powerful, scalable, and secure.
            </div>
        </div>

        <!-- Slide 6: Controlled Access Features -->
        <div class="slide">
            <h1>Database Controlled Access</h1>
            <p>DBMS provides comprehensive control mechanisms:</p>

            <div class="comparison-table">
                <div class="column">
                    <div class="demo-box">
                        <h3>ğŸ”’ Security System</h3>
                        <ul>
                            <li>User authentication</li>
                            <li>Access control lists</li>
                            <li>Role-based permissions</li>
                            <li>Encryption support</li>
                        </ul>
                    </div>
                    
                    <div class="demo-box">
                        <h3>âœ“ Integrity System</h3>
                        <ul>
                            <li>Data validation rules</li>
                            <li>Referential integrity</li>
                            <li>Business rule enforcement</li>
                            <li>Constraint checking</li>
                        </ul>
                    </div>
                </div>
                
                <div class="column">
                    <div class="demo-box">
                        <h3>ğŸ”„ Concurrency Control</h3>
                        <ul>
                            <li>Multiple user access</li>
                            <li>Transaction management</li>
                            <li>Lock mechanisms</li>
                            <li>Deadlock prevention</li>
                        </ul>
                    </div>
                    
                    <div class="demo-box">
                        <h3>ğŸ’¾ Recovery Control</h3>
                        <ul>
                            <li>Backup mechanisms</li>
                            <li>Transaction logs</li>
                            <li>Point-in-time recovery</li>
                            <li>Disaster recovery</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="demo-box" style="margin-top: 20px;">
                <h3>ğŸ“š User-Accessible Catalog</h3>
                <p>Metadata repository containing descriptions of data structures, constraints, users, and applications.</p>
            </div>
        </div>

        <!-- Slide 15: Three-Level Architecture -->
        <div class="slide">
            <h1>ANSI-SPARC Three-Level Architecture</h1>
            <p>Standard architecture for database systems:</p>

            <div class="erd-diagram" style="padding: 30px;">
                <pre style="text-align: center; font-size: 1.1em;">
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    External Level       â”‚ â† User Views
    â”‚  (Individual User Views)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ External/Conceptual Mapping
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Conceptual Level      â”‚ â† Logical Structure
    â”‚  (Community User View)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Conceptual/Internal Mapping
                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    Internal Level       â”‚ â† Physical Storage
    â”‚  (Storage Structure)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>

            <div class="tip-box">
                <strong>Key Benefit:</strong> Data independence - changes at one level don't affect other levels.
            </div>
        </div>

        <!-- Slide 16: Architecture Levels Explained -->
        <div class="slide">
            <h1>Understanding Architecture Levels</h1>

            <div class="demo-box">
                <h3>1. External Level (View Level)</h3>
                <ul>
                    <li>Individual user views of the database</li>
                    <li>Different views for different user groups</li>
                    <li>Security through view restrictions</li>
                    <li>Customized data presentation</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>2. Conceptual Level (Logical Level)</h3>
                <ul>
                    <li>Community view of entire database</li>
                    <li>Describes what data is stored</li>
                    <li>Relationships between data</li>
                    <li>Constraints and security rules</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>3. Internal Level (Physical Level)</h3>
                <ul>
                    <li>Physical storage structures</li>
                    <li>File organizations and indexes</li>
                    <li>Storage allocation</li>
                    <li>Data compression and encryption</li>
                </ul>
            </div>
        </div>

        <!-- Slide 17: Database Views -->
        <div class="slide">
            <h1>Database Views</h1>
            <p>Virtual tables based on database queries:</p>

            <div class="demo-box">
                <h3>Benefits of Views:</h3>
                <ul style="font-size: 1.2em; line-height: 1.8;">
                    <li>âœ“ Reduce complexity for users</li>
                    <li>âœ“ Provide security through restricted access</li>
                    <li>âœ“ Customize data appearance per user needs</li>
                    <li>âœ“ Present consistent picture despite schema changes</li>
                </ul>
            </div>

            <div class="sql-example">
                <span class="sql-comment">-- Creating a view for students</span><br>
                <span class="sql-keyword">CREATE VIEW</span> ActiveStudents <span class="sql-keyword">AS</span><br>
                <span class="sql-keyword">SELECT</span> student_id, name, email<br>
                <span class="sql-keyword">FROM</span> Students<br>
                <span class="sql-keyword">WHERE</span> status = <span class="sql-string">'Active'</span><br>
                &nbsp;&nbsp;<span class="sql-keyword">AND</span> enrollment_date > <span class="sql-string">'2024-01-01'</span>;
            </div>

            <div class="tip-box">
                <strong>Design Principle:</strong> Views act as a window into your data, showing only what users need to see.
            </div>
        </div>

        <!-- Slide 18: History of Database Systems -->
        <div class="slide">
            <h1>Evolution of Database Systems</h1>

            <div class="demo-box">
                <h3>First Generation (1960s-1970s)</h3>
                <ul>
                    <li><strong>Hierarchical Model:</strong> Tree-like structure (IBM's IMS)</li>
                    <li><strong>Network Model:</strong> Graph structure (CODASYL)</li>
                    <li>Navigational access to data</li>
                    <li>Complex programming required</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>Second Generation (1970s-1990s)</h3>
                <ul>
                    <li><strong>Relational Model:</strong> Tables with rows and columns</li>
                    <li>SQL as standard query language</li>
                    <li>Data independence achieved</li>
                    <li>Examples: Oracle, DB2, SQL Server</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>Third Generation (1990s-Present)</h3>
                <ul>
                    <li><strong>Object-Relational:</strong> Objects + Relations</li>
                    <li><strong>Object-Oriented:</strong> Pure OO databases</li>
                    <li><strong>NoSQL:</strong> Document, Key-Value, Graph databases</li>
                    <li><strong>NewSQL:</strong> Scalable SQL databases</li>
                </ul>
            </div>
        </div>

        <!-- Slide 20: Practice Activity 1 -->
        <div class="slide">
            <h1>Design Challenge <span class="emoji">ğŸ—ï¸</span></h1>
            <h2>University Registration System</h2>
            
            <div class="demo-box">
                <h3>Scenario:</h3>
                <p>Design a database architecture for OCU's registration system that handles:</p>
                <ul>
                    <li>Student enrollment in courses</li>
                    <li>Faculty teaching assignments</li>
                    <li>Room scheduling</li>
                    <li>Grade management</li>
                </ul>
            </div>

            <div class="comparison-table">
                <div class="column">
                    <h3>Identify:</h3>
                    <ul>
                        <li>Main entities</li>
                        <li>Key attributes</li>
                        <li>Relationships</li>
                        <li>User views needed</li>
                    </ul>
                </div>
                <div class="column">
                    <h3>Consider:</h3>
                    <ul>
                        <li>Different user roles</li>
                        <li>Security requirements</li>
                        <li>Performance needs</li>
                        <li>Scalability issues</li>
                    </ul>
                </div>
            </div>

            <div class="tip-box">
                <strong>Discussion:</strong> How would this differ from a file-based approach? (10 minutes)
            </div>
        </div>

        <!-- Slide 21: Real-World Example -->
        <div class="slide">
            <h1>Case Study: E-Commerce Platform</h1>
            
            <div class="erd-diagram">
                <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CUSTOMER   â”‚         â”‚    ORDER    â”‚         â”‚   PRODUCT   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ customer_id â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ order_id    â”‚         â”‚ product_id  â”‚
â”‚ name        â”‚  1:N    â”‚ customer_id â”‚         â”‚ name        â”‚
â”‚ email       â”‚         â”‚ order_date  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ price       â”‚
â”‚ address     â”‚         â”‚ total       â”‚  N:M    â”‚ stock       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ 1:N
                               â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ ORDER_ITEM  â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ order_id    â”‚
                        â”‚ product_id  â”‚
                        â”‚ quantity    â”‚
                        â”‚ price       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>

            <div class="demo-box">
                <h3>Architecture Considerations:</h3>
                <ul>
                    <li>High transaction volume</li>
                    <li>Real-time inventory updates</li>
                    <li>Multiple payment gateways</li>
                    <li>Customer data security</li>
                </ul>
            </div>
        </div>

        <!-- Slide 22: DBMS Components -->
        <div class="slide">
            <h1>Major DBMS Components</h1>

            <div class="erd-diagram" style="padding: 20px;">
                <pre style="text-align: center;">
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Query Processor    â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ â€¢ Parser             â”‚
                    â”‚ â€¢ Optimizer          â”‚
                    â”‚ â€¢ Executor           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Storage Manager     â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ â€¢ Buffer Manager     â”‚
                    â”‚ â€¢ File Manager       â”‚
                    â”‚ â€¢ Index Manager      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Transaction Manager â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ â€¢ Concurrency Controlâ”‚
                    â”‚ â€¢ Recovery Manager   â”‚
                    â”‚ â€¢ Lock Manager       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </div>
        </div>

        <!-- Slide 23: Practice Activity 2 -->
        <div class="slide">
            <h1>Group Exercise: Architecture Design</h1>
            
            <div class="demo-box">
                <h3>Task: Design Views for Different Users</h3>
                <p>For a hospital management system, create appropriate views for:</p>
            </div>

            <div class="comparison-table">
                <div class="column">
                    <div class="demo-box">
                        <h4>ğŸ‘¨â€âš•ï¸ Doctors</h4>
                        <ul>
                            <li>Patient medical history</li>
                            <li>Current prescriptions</li>
                            <li>Lab results</li>
                            <li>Appointment schedule</li>
                        </ul>
                    </div>
                    
                    <div class="demo-box">
                        <h4>ğŸ‘©â€âš•ï¸ Nurses</h4>
                        <ul>
                            <li>Patient vitals</li>
                            <li>Medication schedules</li>
                            <li>Room assignments</li>
                            <li>Care instructions</li>
                        </ul>
                    </div>
                </div>
                
                <div class="column">
                    <div class="demo-box">
                        <h4>ğŸ’¼ Administrators</h4>
                        <ul>
                            <li>Billing information</li>
                            <li>Insurance details</li>
                            <li>Resource utilization</li>
                            <li>Staff schedules</li>
                        </ul>
                    </div>
                    
                    <div class="demo-box">
                        <h4>ğŸ§‘ Patients</h4>
                        <ul>
                            <li>Appointment history</li>
                            <li>Test results</li>
                            <li>Billing statements</li>
                            <li>Prescription refills</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tip-box">
                <strong>Consider:</strong> What data should be hidden from each user group? How do we ensure HIPAA compliance?
            </div>
        </div>

        <!-- Slide 24: Modern Database Architectures -->
        <div class="slide">
            <h1>Modern Database Architectures</h1>

            <div class="demo-box">
                <h3>Cloud-Based Architectures</h3>
                <ul>
                    <li><strong>SaaS:</strong> Software as a Service (Salesforce)</li>
                    <li><strong>PaaS:</strong> Platform as a Service (Azure SQL)</li>
                    <li><strong>DBaaS:</strong> Database as a Service (AWS RDS)</li>
                    <li>Elastic scaling and pay-per-use models</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>Distributed Architectures</h3>
                <ul>
                    <li><strong>Sharding:</strong> Horizontal partitioning</li>
                    <li><strong>Replication:</strong> Multiple copies for availability</li>
                    <li><strong>Federation:</strong> Split databases by function</li>
                    <li><strong>CAP Theorem:</strong> Consistency, Availability, Partition tolerance</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>Microservices Architecture</h3>
                <ul>
                    <li>Database per service pattern</li>
                    <li>Event sourcing and CQRS</li>
                    <li>Polyglot persistence</li>
                </ul>
            </div>
        </div>

        <!-- IN-CLASS EXERCISES SECTION -->

        <!-- Slide 26: Exercise Overview -->
        <div class="slide">
            <h1>In-Class Exercises <span class="emoji">ğŸ—ï¸</span></h1>
            <h2>Architecture Mapping & Debate <span class="timer-badge">40 minutes</span></h2>

            <div class="demo-box">
                <h3>Exercise Overview</h3>
                <p style="font-size: 1.2em;">Today, you'll apply your understanding of database architecture through two practical exercises. You'll map system components and debate architectural trade-offs for real-world scenarios.</p>
            </div>

            <div class="activity-box">
                <h3>Learning Objectives</h3>
                <ul style="font-size: 1.15em;">
                    <li>âœ… Label and explain components within a three-tier architecture</li>
                    <li>âœ… Understand the role and function of the DBMS in system architecture</li>
                    <li>âœ… Compare centralized vs. distributed database architectures</li>
                    <li>âœ… Analyze performance and maintenance trade-offs</li>
                    <li>âœ… Justify architectural decisions based on requirements</li>
                </ul>
            </div>

            <button data-timer="40">Start 40-Minute Timer</button>
        </div>

        <!-- Slide 27: Exercise 1 - System Component Mapping -->
        <div class="slide">
            <h1>Exercise 1: System Component Mapping <span class="timer-badge">20 min</span></h1>
            <h2>Individual Exercise: Three-Tier Architecture</h2>

            <div class="exercise-step">
                <h3>Scenario:</h3>
                <p style="font-size: 1.1em;">You are a database architect presenting a system design to stakeholders. You need to clearly explain how data flows through a three-tier web application architecture.</p>
            </div>

            <div class="demo-box">
                <h3>The Three-Tier Architecture Diagram:</h3>
                <div class="erd-diagram" style="font-size: 0.9em;">
                    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Tier 1: Presentation                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Web Browser (Client)                 â”‚  â”‚
â”‚  â”‚  â€¢ HTML/CSS/JavaScript                       â”‚  â”‚
â”‚  â”‚  â€¢ User Interface                            â”‚  â”‚
â”‚  â”‚  â€¢ ???  (Label A - What happens here?)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/HTTPS Requests
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Tier 2: Application Server               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Application Server (Node.js/Java/Python)   â”‚  â”‚
â”‚  â”‚  â€¢ Business Logic                            â”‚  â”‚
â”‚  â”‚  â€¢ ???  (Label B - What component?)          â”‚  â”‚
â”‚  â”‚  â€¢ Session Management                        â”‚  â”‚
â”‚  â”‚  â€¢ ???  (Label C - What happens here?)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ SQL Queries
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Tier 3: Database Server                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          DBMS (MySQL/PostgreSQL)             â”‚  â”‚
â”‚  â”‚  â€¢ ???  (Label D - Core function?)           â”‚  â”‚
â”‚  â”‚  â€¢ Transaction Management                    â”‚  â”‚
â”‚  â”‚  â€¢ Security & Access Control                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Physical Database Files              â”‚  â”‚
â”‚  â”‚  â€¢ ???  (Label E - What's stored here?)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    </pre>
                </div>
            </div>
        </div>

        <!-- Slide 28: Exercise 1 - Instructions -->
        <div class="slide">
            <h1>Exercise 1: Labeling Instructions</h1>

            <div class="activity-box">
                <h3>Your Task (20 minutes):</h3>
                <ol style="font-size: 1.1em; line-height: 1.8;">
                    <li><strong>Label Each Component (10 min):</strong>
                        <ul style="margin-top: 10px;">
                            <li><strong>Label A:</strong> What happens in the browser related to data?</li>
                            <li><strong>Label B:</strong> What key component sits in the application server?</li>
                            <li><strong>Label C:</strong> What processing occurs before sending queries to the database?</li>
                            <li><strong>Label D:</strong> What is the core function of the DBMS?</li>
                            <li><strong>Label E:</strong> What exactly is stored in physical database files?</li>
                        </ul>
                    </li>
                    <li><strong>Explain the DBMS Role (10 min):</strong>
                        <ul style="margin-top: 10px;">
                            <li>Write 2-3 sentences explaining how the DBMS acts as an intermediary between the application server and the physical data</li>
                            <li>Describe at least two specific functions the DBMS performs (e.g., query optimization, concurrency control)</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Hint:</strong> Think about data flow - how does a user's request transform as it moves from browser to database and back?
            </div>
        </div>

        <!-- Slide 29: Understanding Exercise 1 -->
        <div class="slide">
            <h1>Understanding: Three-Tier Architecture <span class="emoji">ğŸ”</span></h1>

            <div class="demo-box">
                <h3>Expected Labels:</h3>
                <table class="table-schema" style="font-size: 0.95em;">
                    <tr>
                        <th>Label</th>
                        <th>Component</th>
                        <th>Function</th>
                    </tr>
                    <tr>
                        <td><strong>A</strong></td>
                        <td>Render UI & Capture Input</td>
                        <td>Display data to user, capture form submissions and clicks</td>
                    </tr>
                    <tr>
                        <td><strong>B</strong></td>
                        <td>API/Web Framework</td>
                        <td>RESTful APIs, routing, request handling</td>
                    </tr>
                    <tr>
                        <td><strong>C</strong></td>
                        <td>Data Validation & Business Rules</td>
                        <td>Validate input, apply business logic before querying DB</td>
                    </tr>
                    <tr>
                        <td><strong>D</strong></td>
                        <td>Query Processing & Execution</td>
                        <td>Parse SQL, optimize queries, execute against physical storage</td>
                    </tr>
                    <tr>
                        <td><strong>E</strong></td>
                        <td>Tables, Indexes, Logs</td>
                        <td>Physical storage of data structures, indexes for fast lookup</td>
                    </tr>
                </table>
            </div>

            <div class="demo-box">
                <h3>The DBMS Role:</h3>
                <p style="font-size: 1.05em;">The DBMS serves as a <strong>sophisticated intermediary</strong> that:</p>
                <ul style="font-size: 1.05em; line-height: 1.7;">
                    <li>Translates high-level SQL queries into low-level file operations</li>
                    <li>Optimizes query execution paths for performance</li>
                    <li>Manages concurrent access from multiple application server instances</li>
                    <li>Enforces data integrity constraints and security policies</li>
                    <li>Provides transaction guarantees (ACID properties)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 30: Exercise 2 - Centralized vs Distributed Debate -->
        <div class="slide">
            <h1>Exercise 2: Architecture Debate <span class="timer-badge">20 min</span></h1>
            <h2>Group Exercise: Centralized vs. Distributed Databases</h2>

            <div class="warning-box">
                <h3>Your Assignment:</h3>
                <p style="font-size: 1.15em;">Your group will be assigned either <strong>Centralized Architecture</strong> or <strong>Distributed Architecture</strong>. You must defend your assigned architecture for a <strong>global banking system</strong>.</p>
            </div>

            <div class="comparison-table">
                <div class="column">
                    <div class="demo-box">
                        <h3>ğŸ¢ Centralized Architecture</h3>
                        <p><strong>Definition:</strong> Single database instance serving all users, typically hosted in one primary data center</p>
                        <div class="erd-diagram" style="font-size: 0.8em; padding: 15px;">
                            <pre>
        All Users
           â”‚â”‚â”‚
           â–¼â–¼â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Single     â”‚
    â”‚   Database   â”‚
    â”‚   Server     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            </pre>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="demo-box">
                        <h3>ğŸŒ Distributed Architecture</h3>
                        <p><strong>Definition:</strong> Multiple database instances across geographic locations, data partitioned or replicated</p>
                        <div class="erd-diagram" style="font-size: 0.8em; padding: 15px;">
                            <pre>
  Users    Users    Users
   â”‚â”‚â”‚      â”‚â”‚â”‚      â”‚â”‚â”‚
   â–¼â–¼â–¼      â–¼â–¼â–¼      â–¼â–¼â–¼
â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ DB1  â”‚ â”‚ DB2  â”‚ â”‚ DB3  â”‚
â”‚ US   â”‚ â”‚ EU   â”‚ â”‚ Asia â”‚
â””â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       Sync/Replication
                            </pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tip-box">
                <strong>Context:</strong> The bank handles millions of transactions daily across 50 countries. Consider performance AND maintenance!
            </div>
        </div>

        <!-- Slide 31: Exercise 2 - Debate Instructions -->
        <div class="slide">
            <h1>Exercise 2: Debate Preparation</h1>

            <div class="activity-box">
                <h3>Your Task (20 minutes):</h3>
                <ol style="font-size: 1.1em; line-height: 1.8;">
                    <li><strong>Identify THREE PROS of your assigned architecture (8 min):</strong>
                        <ul style="margin-top: 10px;">
                            <li>Focus on performance benefits (response time, throughput, scalability)</li>
                            <li>Focus on maintenance advantages (updates, backups, consistency)</li>
                            <li>Provide specific examples for the banking scenario</li>
                        </ul>
                    </li>
                    <li><strong>Identify THREE CONS of your assigned architecture (8 min):</strong>
                        <ul style="margin-top: 10px;">
                            <li>Be honest about performance limitations</li>
                            <li>Acknowledge maintenance challenges</li>
                            <li>Consider cost implications</li>
                        </ul>
                    </li>
                    <li><strong>Justify Your Position (4 min):</strong>
                        <ul style="margin-top: 10px;">
                            <li>Despite the cons, why is your architecture still the better choice?</li>
                            <li>What mitigation strategies can address the drawbacks?</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Think about real banking scenarios - international wire transfers, ATM withdrawals, fraud detection systems.
            </div>
        </div>

        <!-- Slide 32: Understanding Exercise 2 -->
        <div class="slide">
            <h1>Understanding: Architecture Trade-offs <span class="emoji">ğŸ”</span></h1>

            <div class="comparison-table">
                <div class="column">
                    <div class="demo-box">
                        <h3>âœ… Centralized Pros:</h3>
                        <ul style="font-size: 0.95em;">
                            <li><strong>Data Consistency:</strong> Single source of truth, no sync issues</li>
                            <li><strong>Simpler Maintenance:</strong> One system to update/patch/backup</li>
                            <li><strong>Lower Cost:</strong> Single infrastructure to manage</li>
                        </ul>
                        <h3>âŒ Centralized Cons:</h3>
                        <ul style="font-size: 0.95em;">
                            <li><strong>Single Point of Failure:</strong> Outage affects all users globally</li>
                            <li><strong>Latency Issues:</strong> Users far from server experience delays</li>
                            <li><strong>Scaling Limits:</strong> Vertical scaling eventually hits ceiling</li>
                        </ul>
                    </div>
                </div>
                <div class="column">
                    <div class="demo-box">
                        <h3>âœ… Distributed Pros:</h3>
                        <ul style="font-size: 0.95em;">
                            <li><strong>High Availability:</strong> Regional failures don't kill system</li>
                            <li><strong>Low Latency:</strong> Users connect to nearest server</li>
                            <li><strong>Horizontal Scaling:</strong> Add more nodes as needed</li>
                        </ul>
                        <h3>âŒ Distributed Cons:</h3>
                        <ul style="font-size: 0.95em;">
                            <li><strong>Consistency Challenges:</strong> CAP theorem - can't have it all</li>
                            <li><strong>Complex Maintenance:</strong> Multiple systems, sync protocols</li>
                            <li><strong>Higher Cost:</strong> Infrastructure across multiple regions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tip-box">
                <strong>Real-World Insight:</strong> Most large banks use a hybrid approach - centralized for critical transactions, distributed for read-heavy operations like account inquiries.
            </div>
        </div>

        <!-- HOMEWORK SECTION -->

        <!-- Slide 33: Homework Overview -->
        <div class="slide">
            <h1>Homework Assignment <span class="emoji">ğŸ› ï¸</span></h1>
            <h2>Week 3: Hands-On Database Architecture</h2>

            <div class="demo-box">
                <h3>Assignment Overview</h3>
                <p style="font-size: 1.15em;">This week's homework is <strong>100% hands-on work in DataGrip</strong>. You'll explore database architecture, implement multi-schema designs, and analyze query performanceâ€”all practical skills used by real database architects.</p>
            </div>

            <div class="success-box">
                <h3>ğŸ¯ What You'll Learn:</h3>
                <ul style="font-size: 1.05em; line-height: 1.7;">
                    <li>Document physical database architecture using DataGrip's tools</li>
                    <li>Implement architectural layers using PostgreSQL schemas</li>
                    <li>Analyze query execution plans and optimization strategies</li>
                    <li>Understand security architecture through role-based access control</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>Due Date: <strong>Before Class Next Week</strong></h3>
                <p>Submit screenshots + SQL scripts via GitHub commit URL to D2L</p>
            </div>

            <div class="activity-box">
                <h3>Assignment Components:</h3>
                <ol style="font-size: 1.15em; line-height: 1.8;">
                    <li><strong>Part 1:</strong> Architecture Discovery & Documentation (40 points)</li>
                    <li><strong>Part 2:</strong> Multi-Schema Architecture Implementation (40 points)</li>
                    <li><strong>Part 3:</strong> Query Performance Analysis (20 points)</li>
                </ol>
                <p style="margin-top: 15px; font-size: 1.1em;"><strong>Total Points: 100</strong></p>
            </div>

            <div class="tip-box">
                <strong>No Writing Required!</strong> This assignment is all practical SQL and DataGrip work with screenshot documentation.
            </div>
        </div>

        <!-- Slide 34: Part 1 - Architecture Discovery -->
        <div class="slide">
            <h1>Part 1: Architecture Discovery (40 pts)</h1>
            <h2>Explore Your Library Database in DataGrip</h2>

            <div class="exercise-step">
                <h3>Task Overview:</h3>
                <p style="font-size: 1.15em;">Use DataGrip to thoroughly document the <strong>physical and logical architecture</strong> of your Library database from Lecture 2. You'll extract information that database architects use daily.</p>
            </div>

            <div class="activity-box">
                <h3>Step 1: Generate Database Documentation (10 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">In DataGrip, right-click your Library database:</p>
                <ol style="font-size: 1.0em; line-height: 1.7;">
                    <li>Select <strong>Diagrams â†’ Show Visualization</strong></li>
                    <li>Arrange tables to show relationships clearly</li>
                    <li>Export diagram as PNG: <code>library_erd_diagram.png</code></li>
                    <li><strong>Required:</strong> Diagram must show all tables, PKs, FKs, and relationships</li>
                </ol>
            </div>

            <div class="activity-box">
                <h3>Step 2: Extract Physical Schema (15 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">Document the complete DDL (Data Definition Language):</p>
                <ol style="font-size: 1.0em; line-height: 1.7;">
                    <li>In DataGrip, select all your tables (Books, Members, Borrowing, Publishers)</li>
                    <li>Right-click â†’ SQL Scripts â†’ DDL</li>
                    <li>Copy the complete CREATE TABLE statements</li>
                    <li>Save to file: <code>library_schema.sql</code></li>
                    <li><strong>Include:</strong> All constraints (PRIMARY KEY, FOREIGN KEY, NOT NULL, UNIQUE)</li>
                </ol>
            </div>

            <div class="activity-box">
                <h3>Step 3: Analyze Data Types & Constraints (15 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">Create a documentation table:</p>
                <div class="sql-example" style="font-size: 0.8em; margin-top: 10px;">
<span class="sql-comment">-- Create this table in your database and populate it</span><br>
<span class="sql-keyword">CREATE TABLE</span> architecture_analysis (<br>
&nbsp;&nbsp;table_name <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;column_name <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;data_type <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;constraint_type <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;architectural_purpose <span class="sql-keyword">TEXT</span><br>
);
                </div>
                <p style="font-size: 0.95em; margin-top: 10px;">For each column in your tables, document WHY that data type and constraint were chosen from an architecture perspective.</p>
            </div>

            <div class="tip-box">
                <strong>Screenshot Required:</strong> Capture DataGrip showing your ER diagram with all relationships visible
            </div>
        </div>

        <!-- Slide 35: Part 2 - Multi-Schema Architecture -->
        <div class="slide">
            <h1>Part 2: Multi-Schema Architecture (40 pts)</h1>
            <h2>Implement Architectural Layers</h2>

            <div class="exercise-step">
                <h3>Task Overview:</h3>
                <p style="font-size: 1.15em;">Create a <strong>multi-schema architecture</strong> that simulates how real applications separate concerns across different architectural layers. You'll use PostgreSQL schemas to represent staging, production, and reporting tiers.</p>
            </div>

            <div class="activity-box">
                <h3>Step 1: Create Architectural Schemas (10 pts)</h3>
                <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-comment">-- Create three schemas representing different architectural layers</span><br>
<span class="sql-keyword">CREATE SCHEMA</span> staging;<br>
<span class="sql-keyword">CREATE SCHEMA</span> production;<br>
<span class="sql-keyword">CREATE SCHEMA</span> reporting;
                </div>
                <p style="font-size: 1.0em; margin-top: 10px;">Each schema serves a different architectural purpose:</p>
                <ul style="font-size: 0.95em; line-height: 1.6;">
                    <li><strong>staging:</strong> Data validation and transformation layer</li>
                    <li><strong>production:</strong> Live operational data</li>
                    <li><strong>reporting:</strong> Read-only views for analytics</li>
                </ul>
            </div>

            <div class="activity-box">
                <h3>Step 2: Implement Tables in Each Layer (15 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">Recreate your Books and Members tables in each schema:</p>
                <div class="sql-example" style="font-size: 0.8em;">
<span class="sql-keyword">CREATE TABLE</span> staging.books (<br>
&nbsp;&nbsp;book_id <span class="sql-keyword">SERIAL PRIMARY KEY</span>,<br>
&nbsp;&nbsp;title <span class="sql-keyword">VARCHAR</span>(200),<br>
&nbsp;&nbsp;author <span class="sql-keyword">VARCHAR</span>(100),<br>
&nbsp;&nbsp;data_quality_flag <span class="sql-keyword">VARCHAR</span>(20), <span class="sql-comment">-- NEW: Track validation status</span><br>
&nbsp;&nbsp;import_timestamp <span class="sql-keyword">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span><br>
);<br><br>

<span class="sql-keyword">CREATE TABLE</span> production.books (<br>
&nbsp;&nbsp;book_id <span class="sql-keyword">SERIAL PRIMARY KEY</span>,<br>
&nbsp;&nbsp;title <span class="sql-keyword">VARCHAR</span>(200) <span class="sql-keyword">NOT NULL</span>,<br>
&nbsp;&nbsp;author <span class="sql-keyword">VARCHAR</span>(100) <span class="sql-keyword">NOT NULL</span>,<br>
&nbsp;&nbsp;isbn <span class="sql-keyword">VARCHAR</span>(13) <span class="sql-keyword">UNIQUE</span><br>
);
                </div>
                <p style="font-size: 0.95em; margin-top: 10px;"><strong>Note:</strong> Staging has relaxed constraints; Production enforces strict rules</p>
            </div>

            <div class="activity-box">
                <h3>Step 3: Create Reporting Views (15 pts)</h3>
                <div class="sql-example" style="font-size: 0.8em;">
<span class="sql-comment">-- Create abstraction layer for reporting tier</span><br>
<span class="sql-keyword">CREATE VIEW</span> reporting.book_summary <span class="sql-keyword">AS</span><br>
<span class="sql-keyword">SELECT</span><br>
&nbsp;&nbsp;b.title,<br>
&nbsp;&nbsp;b.author,<br>
&nbsp;&nbsp;<span class="sql-keyword">COUNT</span>(br.borrowing_id) <span class="sql-keyword">AS</span> times_borrowed<br>
<span class="sql-keyword">FROM</span> production.books b<br>
<span class="sql-keyword">LEFT JOIN</span> production.borrowing br <span class="sql-keyword">ON</span> b.book_id = br.book_id<br>
<span class="sql-keyword">GROUP BY</span> b.title, b.author;
                </div>
                <p style="font-size: 0.95em; margin-top: 10px;">Create 2 additional views that represent different "presentation layer" perspectives</p>
            </div>

            <div class="tip-box">
                <strong>Screenshot Required:</strong> DataGrip sidebar showing all three schemas with their objects
            </div>
        </div>

        <!-- Slide 36: Part 3 - Query Performance Analysis -->
        <div class="slide">
            <h1>Part 3: Query Performance Analysis (20 pts)</h1>
            <h2>Understand Query Optimization Architecture</h2>

            <div class="exercise-step">
                <h3>Task Overview:</h3>
                <p style="font-size: 1.15em;">Use PostgreSQL's <strong>EXPLAIN ANALYZE</strong> to understand how the DBMS makes architectural decisions about query execution. You'll compare performance with and without indexesâ€”a key architectural optimization.</p>
            </div>

            <div class="activity-box">
                <h3>Step 1: Baseline Query Performance (5 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">First, add test data to production.books (at least 1000 rows):</p>
                <div class="sql-example" style="font-size: 0.75em;">
<span class="sql-comment">-- Generate test data using a loop</span><br>
<span class="sql-keyword">DO</span> $$<br>
<span class="sql-keyword">BEGIN</span><br>
&nbsp;&nbsp;<span class="sql-keyword">FOR</span> i <span class="sql-keyword">IN</span> 1..1000 <span class="sql-keyword">LOOP</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">INSERT INTO</span> production.books (title, author, isbn)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">VALUES</span> (<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-string">'Book '</span> || i,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-string">'Author '</span> || (i % 100),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-string">'ISBN'</span> || LPAD(i::text, 10, <span class="sql-string">'0'</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;);<br>
&nbsp;&nbsp;<span class="sql-keyword">END LOOP</span>;<br>
<span class="sql-keyword">END</span> $$;
                </div>
                <p style="font-size: 1.0em; margin-top: 10px;">Run EXPLAIN ANALYZE on this query:</p>
                <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-keyword">EXPLAIN ANALYZE</span><br>
<span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> production.books <span class="sql-keyword">WHERE</span> author = <span class="sql-string">'Author 42'</span>;
                </div>
                <p style="font-size: 0.95em; margin-top: 10px;"><strong>Screenshot:</strong> Capture the query plan showing "Seq Scan" (Sequential Scan)</p>
            </div>

            <div class="activity-box">
                <h3>Step 2: Create Architectural Optimization (10 pts)</h3>
                <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-comment">-- Add index: architectural decision for performance</span><br>
<span class="sql-keyword">CREATE INDEX</span> idx_books_author <span class="sql-keyword">ON</span> production.books(author);
                </div>
                <p style="font-size: 1.0em; margin-top: 10px;">Run the same query again with EXPLAIN ANALYZE</p>
                <p style="font-size: 0.95em;"><strong>Screenshot:</strong> Capture showing "Index Scan" and compare execution time</p>
            </div>

            <div class="activity-box">
                <h3>Step 3: Document Architectural Impact (5 pts)</h3>
                <p style="font-size: 1.0em; margin-bottom: 10px;">Create a comparison table in your database:</p>
                <div class="sql-example" style="font-size: 0.8em;">
<span class="sql-keyword">CREATE TABLE</span> performance_analysis (<br>
&nbsp;&nbsp;test_name <span class="sql-keyword">VARCHAR</span>(100),<br>
&nbsp;&nbsp;execution_time_ms <span class="sql-keyword">NUMERIC</span>,<br>
&nbsp;&nbsp;scan_type <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;rows_scanned <span class="sql-keyword">INTEGER</span>,<br>
&nbsp;&nbsp;architectural_notes <span class="sql-keyword">TEXT</span><br>
);
                </div>
                <p style="font-size: 0.95em; margin-top: 10px;">Insert your findings comparing both query executions. Explain the architectural trade-off: indexes improve read performance but add storage overhead and slow down writes.</p>
            </div>

            <div class="tip-box">
                <strong>Key Learning:</strong> This demonstrates how the DBMS architecture makes query optimization decisions
            </div>
        </div>

        <!-- Slide 37: Submission Requirements -->
        <div class="slide">
            <h1>Submission Requirements <span class="emoji">ğŸ“¤</span></h1>

            <div class="warning-box">
                <h3>âš ï¸ Required Deliverables:</h3>
                <ol style="font-size: 1.05em; line-height: 1.8;">
                    <li><strong>SQL Script File:</strong> <code>LastName_FirstName_Week3_Architecture.sql</code>
                        <ul style="margin-top: 8px;">
                            <li>All CREATE SCHEMA statements</li>
                            <li>All CREATE TABLE statements (staging, production)</li>
                            <li>All CREATE VIEW statements (reporting)</li>
                            <li>All CREATE INDEX statements</li>
                            <li>Sample data population queries</li>
                            <li>EXPLAIN ANALYZE queries with comments</li>
                        </ul>
                    </li>
                    <li><strong>Screenshots Folder:</strong> <code>Week3_Screenshots/</code>
                        <ul style="margin-top: 8px;">
                            <li><code>1_erd_diagram.png</code> - ER diagram from DataGrip</li>
                            <li><code>2_multi_schema.png</code> - DataGrip sidebar showing all schemas</li>
                            <li><code>3_query_plan_before.png</code> - EXPLAIN ANALYZE without index</li>
                            <li><code>4_query_plan_after.png</code> - EXPLAIN ANALYZE with index</li>
                            <li><code>5_performance_results.png</code> - SELECT from performance_analysis table</li>
                        </ul>
                    </li>
                    <li><strong>README.md:</strong> Brief description of your architectural decisions
                        <ul style="margin-top: 8px;">
                            <li>Why you chose specific data types</li>
                            <li>How schemas represent different tiers</li>
                            <li>Performance improvements observed</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="demo-box">
                <h3>Submission Steps:</h3>
                <ol style="font-size: 1.1em; line-height: 1.8;">
                    <li>Create folder in your homework repository: <code>Week3_Architecture/</code></li>
                    <li>Add all SQL files, screenshots, and README</li>
                    <li>Commit with message: "Week 3: Database Architecture Implementation"</li>
                    <li>Submit commit URL to D2L</li>
                    <li><strong>Due:</strong> Before class next week</li>
                </ol>
            </div>

            <div class="demo-box">
                <h3>Grading Rubric (100 points):</h3>
                <table class="table-schema" style="font-size: 0.9em;">
                    <tr>
                        <th>Component</th>
                        <th>Points</th>
                        <th>Criteria</th>
                    </tr>
                    <tr>
                        <td><strong>Part 1: Discovery</strong></td>
                        <td>40</td>
                        <td>ER diagram quality (10), DDL completeness (15), Architecture analysis table (15)</td>
                    </tr>
                    <tr>
                        <td><strong>Part 2: Multi-Schema</strong></td>
                        <td>40</td>
                        <td>Schema creation (10), Tables with proper constraints (15), Views functionality (15)</td>
                    </tr>
                    <tr>
                        <td><strong>Part 3: Performance</strong></td>
                        <td>20</td>
                        <td>EXPLAIN ANALYZE screenshots (10), Performance documentation (10)</td>
                    </tr>
                </table>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Export your SQL from DataGrip using right-click â†’ SQL Scripts â†’ DDL for perfect formatting!
            </div>
        </div>

        <!-- Slide 38: Summary -->
        <div class="slide">
            <h1>Today's Takeaways <span class="emoji">ğŸ“</span></h1>
            <h2>You Can Now:</h2>
            <ul style="font-size: 1.2em; line-height: 1.8;">
                <li>âœ… Explain the ANSI-SPARC three-level architecture and data independence</li>
                <li>âœ… Describe DBMS controlled access features (security, integrity, concurrency, recovery)</li>
                <li>âœ… Analyze three-tier application architecture components and data flow</li>
                <li>âœ… Compare centralized vs. distributed database architectures</li>
                <li>âœ… Identify trade-offs in architectural decisions</li>
                <li>âœ… Understand modern cloud and microservices database patterns</li>
                <li>âœ… Design appropriate architectural views for different stakeholders</li>
            </ul>

            <div class="demo-box" style="margin-top: 30px;">
                <p><strong>Next Lecture:</strong> Entity-Relationship Modeling</p>
                <p><strong>Homework:</strong> Hands-on DataGrip architecture implementation - multi-schema design, ER diagrams, and query performance analysis (due next week)</p>
                <p><strong>Reading:</strong> Chapter 2 - Database System Concepts and Architecture</p>
            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="navigation">
            <button id="prevBtn">Previous</button>
            <span class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">28</span>
            </span>
            <button id="nextBtn">Next</button>
        </div>
    </div>

    <!-- Shared Presentation JavaScript -->
    <script src="../../js/presentation.js"></script>

    <!-- Lecture-Specific JavaScript -->
    <script>
        // Database architecture specific interactions
        document.addEventListener('slidechange', (e) => {
            console.log(`Slide ${e.detail.currentSlide + 1} of ${e.detail.totalSlides}`);
            
            // Add any architecture-specific animations or interactions here
            const currentSlideElement = document.querySelectorAll('.slide')[e.detail.currentSlide];
            
            // Animate diagrams when they appear
            const diagrams = currentSlideElement.querySelectorAll('.erd-diagram pre');
            diagrams.forEach((diagram, index) => {
                setTimeout(() => {
                    diagram.style.opacity = '0';
                    diagram.style.transform = 'translateY(20px)';
                    diagram.style.transition = 'all 0.5s ease';
                    
                    setTimeout(() => {
                        diagram.style.opacity = '1';
                        diagram.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
        });

        // Add keyboard navigation hints
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Lecture 03: Database Architecture loaded');
            console.log('Use arrow keys or buttons to navigate');
            console.log('Press F for fullscreen mode');
        });
    </script>
</body>
</html>