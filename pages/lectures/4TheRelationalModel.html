<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Relational Model - CSCI 5603</title>
    
    <!-- Database Design Presentation Styles with Theme Support -->
    <link rel="stylesheet" href="../../styles/presentation.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    
    <!-- Import Courier Prime for analog feel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lecture-Specific Styles -->
    <style>
        /* Override font for analog feel */
        body, .slide, h1, h2, h3, p, li {
            font-family: 'Courier Prime', 'IBM Plex Mono', 'Courier New', monospace !important;
        }
        
        /* Database-specific styling */
        .erd-diagram {
            background: var(--bg-accent);
            border: 2px solid var(--border-color);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier Prime', monospace;
        }

        /* SQL syntax highlighting classes now in presentation.css */

        .table-schema {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-family: 'IBM Plex Mono', monospace;
        }
        
        .table-schema th {
            background: var(--ocu-true-blue);
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .table-schema td {
            border: 1px solid var(--border-color);
            padding: 10px;
            background: var(--bg-secondary);
        }
        
        .table-schema tr:nth-child(even) td {
            background: var(--bg-accent);
        }

        .relation-example {
            margin: 20px 0;
            overflow-x: auto;
        }

        .relation-table {
            border-collapse: collapse;
            width: 100%;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.9em;
        }

        .relation-table th {
            background: var(--ocu-dark-blue);
            color: white;
            padding: 10px;
            border: 1px solid var(--border-color);
            font-weight: 600;
        }

        .relation-table td {
            border: 1px solid var(--border-color);
            padding: 8px;
            background: var(--bg-secondary);
        }

        .key-highlight {
            background: var(--ocu-yellow) !important;
            color: var(--ocu-dark-blue);
            font-weight: bold;
        }

        .foreign-key-highlight {
            background: var(--ocu-light-blue) !important;
            color: var(--ocu-dark-blue);
        }

        .concept-box {
            background: var(--bg-accent);
            border-left: 5px solid var(--ocu-green);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        /* JSON and XML syntax highlighting classes now in presentation.css */
    </style>
</head>
<body>
    <!-- Theme toggle will be automatically added by JavaScript -->
    
    <div class="presentation-container">
        <!-- Timer display for activities -->
        <div class="timer-display" id="timer-display">
            <span id="timer-text">The Relational Model
                 <button class="home"><a href="../../index.html">Home</a></button>
            </span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>The Relational Model</h1>
            <h2>Foundation of Modern Databases <span class="emoji">üóÑÔ∏è</span></h2>
            <p style="font-size: 1.5em; margin-top: 40px;">CSCI 5603 - Database Design</p>
            <p style="font-size: 1.3em;">Week 1, Lecture 2</p>
            <p style="margin-top: auto; font-style: italic;">Understanding the mathematical foundation of relational databases!</p>
        </div>

        <!-- Slide 2: Learning Objectives -->
        <div class="slide">
            <h1>Today's Learning Objectives</h1>
            <ul style="font-size: 1.4em; line-height: 2;">
                <li>üéØ Understand the fundamental terminology of the relational model</li>
                <li>üéØ Master the concept of relations, attributes, tuples, and domains</li>
                <li>üéØ Learn about different types of keys and their importance</li>
                <li>üéØ Apply integrity constraints to ensure data quality</li>
                <li>üéØ Explore the mathematical foundation of databases</li>
            </ul>
        </div>

        <!-- ==================== SEMESTER PROJECT INTRODUCTION ==================== -->

        <!-- Slide 3: Semester Project Introduction -->
        <div class="slide">
            <h1>Semester-Long Database Design Project <span class="emoji">üöÄ</span></h1>
            <h2>From Concept to Full-Stack Application</h2>

            <div class="demo-box">
                <h3>Project Overview</h3>
                <p style="font-size: 1.2em; line-height: 1.7;">Throughout this semester, you'll design and build a <strong>complete database system with a working frontend interface</strong>. This project takes you from initial concept through iterative development to a fully functional application that solves a real problem.</p>
            </div>

            <div class="success-box">
                <h3>üéØ Project Timeline:</h3>
                <ul style="font-size: 1.15em; line-height: 1.8;">
                    <li><strong>Nov 7 (This Friday):</strong> Submit written proposal to D2L</li>
                    <li><strong>Nov 10 (Next Class):</strong> Present proposal to class for feedback (5 min each)</li>
                    <li><strong>Nov 11 - Dec 8:</strong> Build your database and frontend based on feedback</li>
                    <li><strong>Dec 8 (Last Day):</strong> Present completed project with live demo</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>Why This Matters:</h3>
                <p style="font-size: 1.1em;">This project simulates real-world database consulting work: pitch an idea, get stakeholder feedback, build iteratively, and deliver a working product. The feedback session on Nov 10 will help you refine your approach before investing development time!</p>
            </div>
        </div>

        <!-- Slide 4: Project Requirements & Task -->
        <div class="slide">
            <h1>Project Task & Requirements <span class="emoji">üìã</span></h1>
            <h2>Written Proposal Due: Friday, November 7th</h2>

            <div class="demo-box">
                <h3>Your Task:</h3>
                <p style="font-size: 1.2em; line-height: 1.7;"><strong>Identify a real-world scenario that currently uses file-based storage and propose a database solution.</strong></p>
                <p style="font-size: 1.0em; margin-top: 10px; font-style: italic;">You'll present this proposal on Nov 10 for class feedback before building it!</p>
            </div>

            <div class="activity-box">
                <h3>Requirements (Address All Four):</h3>
                <ol style="font-size: 1.15em; line-height: 1.8;">
                    <li><strong>Describe the current file-based system and its limitations</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>What files or spreadsheets are being used?</li>
                            <li>What problems exist? (redundancy, inconsistency, access issues, etc.)</li>
                        </ul>
                    </li>
                    <li><strong>Propose a database solution with at least 3 tables</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>What entities will become tables?</li>
                            <li>How will they relate to each other?</li>
                        </ul>
                    </li>
                    <li><strong>Explain the advantages of your database approach</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>How does it solve the current problems?</li>
                            <li>What new capabilities will it enable?</li>
                        </ul>
                    </li>
                    <li><strong>Identify potential challenges in migration</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>What obstacles might you face?</li>
                            <li>What concerns might users have?</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Remember:</strong> On Nov 10, you'll present this proposal to the class (5 minutes). Feedback from classmates and instructor will help you refine your design before you start building!
            </div>
        </div>

        <!-- Slide 5: Submission Instructions & Guidance -->
        <div class="slide">
            <h1>Turn-In Instructions & Tips <span class="emoji">‚úÖ</span></h1>

            <div class="demo-box">
                <h3>Submission Format (Due Nov 7):</h3>
                <p style="font-size: 1.2em; line-height: 1.7;">Write <strong>1-3 paragraphs</strong> that address all four requirements from the previous slide. Submit to D2L by <strong>Friday, November 7th</strong>.</p>
                <p style="font-size: 1.0em; margin-top: 10px;"><strong>Then prepare a 5-minute presentation</strong> for Nov 10 to pitch your idea and get feedback!</p>
            </div>

            <div class="success-box">
                <h3>üí° Good Project Examples:</h3>
                <ul style="font-size: 1.1em; line-height: 1.7;">
                    <li>Small business inventory tracking (currently using Excel)</li>
                    <li>Club membership management (currently using spreadsheets + emails)</li>
                    <li>Personal recipe collection (currently using text files or notebooks)</li>
                    <li>Event planning coordination (currently using multiple documents)</li>
                    <li>Home library management (currently using paper or simple lists)</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>‚ö†Ô∏è Critical Considerations:</h3>
                <ul style="font-size: 1.05em; line-height: 1.7;">
                    <li><strong>Scope:</strong> Must be buildable in 4 weeks - database + frontend! Not Amazon or Facebook!</li>
                    <li><strong>Two Presentations:</strong> Nov 10 for feedback (5 min), Dec 8 live demo with frontend (final)</li>
                    <li><strong>Frontend Required:</strong> Final project must include a working user interface (web, mobile, or desktop)</li>
                    <li><strong>Demonstrability:</strong> Must have real data and show actual CRUD operations working</li>
                    <li><strong>Interest:</strong> Choose something you care about - you'll live with this all semester!</li>
                </ul>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Think about file-based systems YOU currently use or have seen. The best projects come from personal experience with real problems. And remember - class feedback on Nov 10 is your chance to course-correct before building!
            </div>
        </div>

        <!-- ==================== HOMEWORK REVIEW ==================== -->

        <!-- Slide 3: Homework Review Overview -->
        <div class="slide">
            <h1>Week 3 Homework Review <span class="emoji">üìö</span></h1>
            <h2>Database Architecture Assignment</h2>

            <div class="demo-box">
                <h3>What You Accomplished:</h3>
                <p style="font-size: 1.15em; line-height: 1.7;">Last week, you completed a comprehensive hands-on architecture assignment that mirrors real-world database engineering work. Let's review the key concepts and skills you practiced.</p>
            </div>

            <div class="activity-box">
                <h3>Assignment Components Recap:</h3>
                <ol style="font-size: 1.2em; line-height: 1.8;">
                    <li><strong>Part 1:</strong> Architecture Discovery & Documentation (40 pts)
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>Generated ERD diagrams using DataGrip</li>
                            <li>Extracted DDL schema definitions</li>
                            <li>Analyzed data types and constraints</li>
                        </ul>
                    </li>
                    <li><strong>Part 2:</strong> Multi-Schema Architecture (40 pts)
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>Implemented staging, production, reporting schemas</li>
                            <li>Created views for data separation</li>
                            <li>Practiced schema-based access control</li>
                        </ul>
                    </li>
                    <li><strong>Part 3:</strong> Query Performance Analysis (20 pts)
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>Generated test data with PL/pgSQL loops</li>
                            <li>Used EXPLAIN ANALYZE to understand query plans</li>
                            <li>Compared sequential vs. index scans</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Slide 4: Part 1 Review - Architecture Discovery -->
        <div class="slide">
            <h1>Part 1 Review: Architecture Discovery</h1>
            <h2>Documenting Physical & Logical Architecture</h2>

            <div class="concept-box">
                <h3>Key Skill: Using DataGrip for Documentation</h3>
                <p style="font-size: 1.05em; line-height: 1.7;">You learned to use DataGrip's built-in tools to <strong>visualize and document</strong> database architecture‚Äîa critical skill for onboarding to new projects, auditing existing systems, and communicating design decisions to stakeholders.</p>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="demo-box">
                    <h4>ERD Generation</h4>
                    <ul style="font-size: 0.95em; line-height: 1.6;">
                        <li><strong>What:</strong> Visual representation of tables and relationships</li>
                        <li><strong>Why:</strong> Quickly understand database structure without reading SQL</li>
                        <li><strong>When:</strong> New team member orientation, documentation, design reviews</li>
                    </ul>
                </div>

                <div class="demo-box">
                    <h4>DDL Extraction</h4>
                    <ul style="font-size: 0.95em; line-height: 1.6;">
                        <li><strong>What:</strong> Complete CREATE TABLE statements with all constraints</li>
                        <li><strong>Why:</strong> Version control, migration scripts, schema comparison</li>
                        <li><strong>When:</strong> Deploying to new environments, disaster recovery</li>
                    </ul>
                </div>
            </div>

            <div class="tip-box" style="margin-top: 20px;">
                <strong>Industry Insight:</strong> Database architects spend significant time documenting existing systems. Many legacy databases have outdated or missing documentation‚Äîyour ability to extract and analyze schema information is invaluable for modernization projects.
            </div>
        </div>

        <!-- Slide 5: Part 2 Review - Multi-Schema Architecture -->
        <div class="slide">
            <h1>Part 2 Review: Multi-Schema Architecture</h1>
            <h2>Implementing Architectural Layers</h2>

            <div class="concept-box">
                <h3>Key Concept: Schema as Namespace</h3>
                <p style="font-size: 1.05em; line-height: 1.7;">PostgreSQL schemas are <strong>namespaces</strong> that organize database objects into logical groups. This mirrors enterprise architecture patterns where data flows through stages: <strong>staging ‚Üí production ‚Üí reporting</strong>.</p>
            </div>

            <div class="erd-diagram" style="padding: 20px; margin-top: 15px;">
                <pre style="font-size: 0.95em;">
    Real-World Data Pipeline Architecture

    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  STAGING        ‚îÇ  ‚Üê Raw data ingestion (ETL landing zone)
    ‚îÇ  schema         ‚îÇ    ‚Ä¢ Unvalidated data from external sources
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚Ä¢ Temporary storage before validation
             ‚îÇ
             ‚ñº Data validation & transformation
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  PRODUCTION     ‚îÇ  ‚Üê Clean, validated operational data
    ‚îÇ  schema         ‚îÇ    ‚Ä¢ Business logic enforcement
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚Ä¢ ACID transactions for consistency
             ‚îÇ
             ‚ñº Aggregation & denormalization
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  REPORTING      ‚îÇ  ‚Üê Read-optimized views for analytics
    ‚îÇ  schema         ‚îÇ    ‚Ä¢ Pre-computed aggregations
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚Ä¢ BI tool integration (Tableau, PowerBI)
                </pre>
            </div>

            <div class="success-box" style="margin-top: 15px;">
                <h4>Why This Matters:</h4>
                <p style="font-size: 1.0em; line-height: 1.6;">This pattern is ubiquitous in industry. Data warehouses like Snowflake, Redshift, and BigQuery all use schema-based separation. You've practiced the exact pattern used by companies like Netflix, Spotify, and Airbnb to manage petabyte-scale data systems.</p>
            </div>
        </div>

        <!-- Slide 6: Part 3 Deep Dive - PL/pgSQL & Query Performance -->
        <div class="slide">
            <h1>Part 3 Deep Dive: Performance Analysis</h1>
            <h2>PL/pgSQL Loops & EXPLAIN ANALYZE</h2>

            <div class="concept-box">
                <h3>Understanding PL/pgSQL Anonymous Blocks</h3>
                <p style="font-size: 1.05em; line-height: 1.7;">You used this code to generate 1000 test records:</p>
                <div class="sql-example" style="font-size: 0.7em; margin-top: 10px;">
<span class="sql-keyword">DO</span> $$<br>
<span class="sql-keyword">BEGIN</span><br>
&nbsp;&nbsp;<span class="sql-keyword">FOR</span> i <span class="sql-keyword">IN</span> 1..1000 <span class="sql-keyword">LOOP</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">INSERT INTO</span> production.movies (title, director, genre)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">VALUES</span> (<span class="sql-string">'Movie '</span> || i, <span class="sql-string">'Director '</span> || (i % 100), <span class="sql-string">'Genre '</span> || (i % 10));<br>
&nbsp;&nbsp;<span class="sql-keyword">END LOOP</span>;<br>
<span class="sql-keyword">END</span> $$;
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                <div class="demo-box">
                    <h4>How It Works:</h4>
                    <ul style="font-size: 0.9em; line-height: 1.6;">
                        <li><code>DO $$</code>: Creates anonymous block (runs once, not stored)</li>
                        <li><code>BEGIN...END</code>: Procedural code boundary</li>
                        <li><code>FOR i IN 1..1000</code>: Loop variable i from 1 to 1000</li>
                        <li><code>||</code>: String concatenation operator</li>
                        <li><code>i % 100</code>: Modulo operator (remainder after division)</li>
                    </ul>
                </div>

                <div class="demo-box">
                    <h4>Real-World Use Cases:</h4>
                    <ul style="font-size: 0.9em; line-height: 1.6;">
                        <li><strong>Load Testing:</strong> Generate realistic data volumes for performance testing</li>
                        <li><strong>QA Environments:</strong> Populate test databases with synthetic data</li>
                        <li><strong>Data Migration:</strong> Transform and load data in batches</li>
                        <li><strong>Seeding:</strong> Initialize databases for demos and development</li>
                    </ul>
                </div>
            </div>

            <div class="warning-box" style="margin-top: 15px;">
                <h4>EXPLAIN ANALYZE: The DBA's Best Friend</h4>
                <p style="font-size: 0.95em; line-height: 1.6;">You compared query performance with and without indexes. This technique is used daily by DBAs to:</p>
                <ul style="font-size: 0.9em; margin-top: 8px;">
                    <li><strong>Diagnose slow queries:</strong> See exactly where PostgreSQL spends time (Sequential Scan vs. Index Scan)</li>
                    <li><strong>Validate optimizations:</strong> Prove that adding an index actually improved performance</li>
                    <li><strong>Understand architectural decisions:</strong> See how the query optimizer chooses between multiple execution strategies</li>
                    <li><strong>Capacity planning:</strong> Estimate resource needs for production workloads</li>
                </ul>
            </div>

            <div class="success-box" style="margin-top: 15px;">
                <strong>Real-World Example:</strong> At a SaaS company with millions of users, you notice the "user search" feature is slow. You run EXPLAIN ANALYZE, discover a sequential scan on a 10M-row users table, add an index on the email column, and reduce query time from 2.5 seconds to 15 milliseconds. Users are happy, server costs decrease, and you get recognized for optimizing a critical feature. <strong>This is exactly what you practiced in Part 3.</strong>
            </div>
        </div>

        <!-- ==================== PART 1: FOUNDATIONS ==================== -->

        <!-- Slide 7: Basic Terminology Part 1 -->
        <div class="slide">
            <h1>Relational Model Terminology (Part 1)</h1>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="column">
                    <div class="concept-box">
                        <h3>üìä Relation</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">A table with columns and rows. Only applies to the logical structure, not physical storage.</p>
                    </div>

                    <div class="concept-box">
                        <h3>üìù Attribute</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">A named column of a relation (e.g., StudentID, Name, Email).</p>
                    </div>

                    <div class="concept-box">
                        <h3>üéØ Domain</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">The set of allowable values for one or more attributes (e.g., integers, strings, dates).</p>
                    </div>
                </div>

                <div class="column">
                    <div class="demo-box">
                        <h3>Real-World Example: movie_rental_db</h3>
                        <div style="margin-top: 15px;">
                            <h4 style="color: var(--ocu-true-blue); margin-bottom: 10px;">üìä Relation: Movies</h4>
                            <table class="relation-table" style="font-size: 0.85em;">
                                <thead>
                                    <tr>
                                        <th>movie_id</th>
                                        <th>title</th>
                                        <th>director</th>
                                        <th>genre</th>
                                        <th>release_year</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>The Shawshank Redemption</td>
                                        <td>Frank Darabont</td>
                                        <td>Drama</td>
                                        <td>1994</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>The Godfather</td>
                                        <td>Francis Ford Coppola</td>
                                        <td>Crime</td>
                                        <td>1972</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div style="margin-top: 15px; font-size: 0.95em; line-height: 1.6;">
                                <p><strong>üìù Attributes:</strong> movie_id, title, director, genre, release_year</p>
                                <p style="margin-top: 8px;"><strong>üéØ Domains:</strong></p>
                                <ul style="font-size: 0.9em; margin-left: 20px;">
                                    <li>movie_id: INTEGER (positive numbers)</li>
                                    <li>title: VARCHAR(200) (strings up to 200 chars)</li>
                                    <li>director: VARCHAR(100) (strings)</li>
                                    <li>genre: VARCHAR(50) (strings)</li>
                                    <li>release_year: INTEGER (1888-present)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Basic Terminology Part 2 -->
        <div class="slide">
            <h1>Relational Model Terminology (Part 2)</h1>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="column">
                    <div class="concept-box">
                        <h3>üìã Tuple</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">A row of a relation representing a single entity instance.</p>
                    </div>

                    <div class="concept-box">
                        <h3>üî¢ Degree</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">The number of attributes in a relation (number of columns).</p>
                    </div>

                    <div class="concept-box">
                        <h3>üìà Cardinality</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">The number of tuples in a relation (number of rows).</p>
                    </div>

                    <div class="concept-box">
                        <h3>üóÑÔ∏è Relational Database</h3>
                        <p style="font-size: 1.05em; line-height: 1.7;">A collection of normalized relations with distinct relation names.</p>
                    </div>
                </div>

                <div class="column">
                    <div class="demo-box">
                        <h3>Real-World Example: movie_rental_db</h3>
                        <div style="margin-top: 15px;">
                            <h4 style="color: var(--ocu-true-blue); margin-bottom: 10px;">üìã Tuple (Single Movie)</h4>
                            <table class="relation-table" style="font-size: 0.85em; margin-bottom: 15px;">
                                <thead>
                                    <tr>
                                        <th>movie_id</th>
                                        <th>title</th>
                                        <th>director</th>
                                        <th>genre</th>
                                        <th>release_year</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="background: var(--ocu-yellow) !important;">
                                        <td><strong>1</strong></td>
                                        <td><strong>The Shawshank Redemption</strong></td>
                                        <td><strong>Frank Darabont</strong></td>
                                        <td><strong>Drama</strong></td>
                                        <td><strong>1994</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                            <p style="font-size: 0.9em; margin-bottom: 15px;">‚Üë This highlighted row is <strong>one tuple</strong></p>

                            <div style="font-size: 0.95em; line-height: 1.7;">
                                <p><strong>üî¢ Degree of Movies:</strong> 5 attributes (columns)</p>
                                <p style="margin-top: 5px;"><strong>üìà Cardinality of Movies:</strong> Let's say 150 tuples (rows)</p>
                                <p style="margin-top: 10px;"><strong>üóÑÔ∏è Relational Database:</strong> movie_rental_db contains multiple relations:</p>
                                <ul style="font-size: 0.9em; margin-left: 20px; margin-top: 5px;">
                                    <li><strong>Movies</strong> (movie_id, title, director, genre, release_year)</li>
                                    <li><strong>Members</strong> (member_id, name, email, join_date)</li>
                                    <li><strong>Rentals</strong> (rental_id, movie_id, member_id, rental_date)</li>
                                    <li><strong>Studios</strong> (studio_id, name, country)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Alternative Terminology -->
        <div class="slide">
            <h1>Alternative Terminology</h1>
            <p>Different communities use different terms for the same concepts:</p>

            <table class="table-schema">
                <thead>
                    <tr>
                        <th>Formal Terms</th>
                        <th>Alternative 1</th>
                        <th>Alternative 2</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Relation</strong></td>
                        <td>Table</td>
                        <td>File</td>
                    </tr>
                    <tr>
                        <td><strong>Tuple</strong></td>
                        <td>Row</td>
                        <td>Record</td>
                    </tr>
                    <tr>
                        <td><strong>Attribute</strong></td>
                        <td>Column</td>
                        <td>Field</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip-box">
                <strong>Note:</strong> While terminology varies, we'll primarily use the formal terms in this course to maintain precision.
            </div>
        </div>

        <!-- Slide 10: Example Relations - Movies -->
        <div class="slide">
            <h1>Example: Movies Relation</h1>
            <p>Let's examine a concrete example of a relation from movie_rental_db:</p>

            <div class="relation-example">
                <table class="relation-table">
                    <thead>
                        <tr>
                            <th class="key-highlight">movie_id</th>
                            <th>title</th>
                            <th>director</th>
                            <th>genre</th>
                            <th>release_year</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="key-highlight">1</td>
                            <td>The Shawshank Redemption</td>
                            <td>Frank Darabont</td>
                            <td>Drama</td>
                            <td>1994</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">2</td>
                            <td>The Godfather</td>
                            <td>Francis Ford Coppola</td>
                            <td>Crime</td>
                            <td>1972</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">3</td>
                            <td>The Dark Knight</td>
                            <td>Christopher Nolan</td>
                            <td>Action</td>
                            <td>2008</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">4</td>
                            <td>Pulp Fiction</td>
                            <td>Quentin Tarantino</td>
                            <td>Crime</td>
                            <td>1994</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">5</td>
                            <td>Forrest Gump</td>
                            <td>Robert Zemeckis</td>
                            <td>Drama</td>
                            <td>1994</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <p><strong>Degree:</strong> 5 (five attributes) | <strong>Cardinality:</strong> 5 (five tuples)</p>
        </div>

        <!-- Slide 11: Example Relations - Rentals -->
        <div class="slide">
            <h1>Example: Rentals Relation</h1>
            <p>A more complex relation with multiple foreign key references:</p>

            <div class="relation-example" style="font-size: 0.85em;">
                <table class="relation-table">
                    <thead>
                        <tr>
                            <th class="key-highlight">rental_id</th>
                            <th class="foreign-key-highlight">movie_id</th>
                            <th class="foreign-key-highlight">member_id</th>
                            <th>rental_date</th>
                            <th>return_date</th>
                            <th>rental_price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="key-highlight">1</td>
                            <td class="foreign-key-highlight">1</td>
                            <td class="foreign-key-highlight">101</td>
                            <td>2024-01-15</td>
                            <td>2024-01-20</td>
                            <td>3.99</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">2</td>
                            <td class="foreign-key-highlight">3</td>
                            <td class="foreign-key-highlight">102</td>
                            <td>2024-01-16</td>
                            <td>2024-01-21</td>
                            <td>4.99</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">3</td>
                            <td class="foreign-key-highlight">2</td>
                            <td class="foreign-key-highlight">101</td>
                            <td>2024-01-18</td>
                            <td>NULL</td>
                            <td>3.99</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">4</td>
                            <td class="foreign-key-highlight">5</td>
                            <td class="foreign-key-highlight">103</td>
                            <td>2024-01-20</td>
                            <td>2024-01-25</td>
                            <td>3.99</td>
                        </tr>
                        <tr>
                            <td class="key-highlight">5</td>
                            <td class="foreign-key-highlight">4</td>
                            <td class="foreign-key-highlight">102</td>
                            <td>2024-01-22</td>
                            <td>NULL</td>
                            <td>4.99</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <p>üîë <strong>Primary Key:</strong> rental_id | üîó <strong>Foreign Keys:</strong> movie_id (references Movies), member_id (references Members)</p>
        </div>

        <!-- Slide 12: Properties of Relations -->
        <div class="slide">
            <h1>Properties of Relations</h1>
            <p>Relations have specific properties that distinguish them from general tables:</p>

            <ul style="font-size: 1.3em; line-height: 1.8;">
                <li>‚úÖ <strong>Unique relation name</strong> within the database schema</li>
                <li>‚úÖ <strong>Atomic values</strong> - each cell contains exactly one value</li>
                <li>‚úÖ <strong>Distinct attribute names</strong> within a relation</li>
                <li>‚úÖ <strong>Homogeneous columns</strong> - all values in a column from same domain</li>
                <li>‚úÖ <strong>No duplicate tuples</strong> - each row is unique</li>
                <li>‚úÖ <strong>Order independence</strong> - order of rows and columns doesn't matter</li>
            </ul>

            <div class="tip-box">
                <strong>Important:</strong> These properties ensure mathematical consistency and enable formal query operations.
            </div>
        </div>

        <!-- Slide 13: Mathematical Foundation -->
        <div class="slide">
            <h1>Mathematical Definition of Relations</h1>
            <p>Relations are based on the mathematical concept of Cartesian products:</p>

            <div class="code-example">
                <p><strong>Given sets:</strong></p>
                <p>D‚ÇÅ = {2, 4}</p>
                <p>D‚ÇÇ = {1, 3, 5}</p>
                <br>
                <p><strong>Cartesian Product D‚ÇÅ √ó D‚ÇÇ:</strong></p>
                <p>{(2,1), (2,3), (2,5), (4,1), (4,3), (4,5)}</p>
                <br>
                <p><strong>A relation R is a subset of the Cartesian product</strong></p>
                <p>R ‚äÜ D‚ÇÅ √ó D‚ÇÇ √ó ... √ó D‚Çô</p>
            </div>

            <div class="concept-box">
                <p>This mathematical foundation allows us to use set theory and predicate logic to reason about database operations.</p>
            </div>
        </div>

        <!-- ==================== PART 2: KEYS & INTEGRITY ==================== -->

        <!-- Slide 14: Video - Database Keys -->
        <div class="slide">
            <h1>Video: Understanding Database Keys</h1>

            <div style="display: flex; justify-content: center; align-items: center; height: 70vh;">
                <iframe
                    width="960"
                    height="540"
                    src="https://www.youtube.com/embed/8wUUMOKAK-c"
                    title="Database Keys Video"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    style="border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                </iframe>
            </div>
        </div>

        <!-- ==================== MOVIELENS DATASET IMPORT ==================== -->

        <!-- Slide 15: Introduction to Real-World Data -->
        <div class="slide">
            <h1>Working with Real-World Data <span class="emoji">üé¨</span></h1>
            <h2>The MovieLens Dataset</h2>

            <div class="concept-box">
                <h3>Why Real Data Matters</h3>
                <p style="font-size: 1.15em; line-height: 1.7;">So far, we've been using dummy data with simple loops. While this is great for learning, real databases work with actual datasets. Let's upgrade from toy data to a professional, industry-standard dataset!</p>
            </div>

            <div class="success-box">
                <h3>üìä About MovieLens</h3>
                <p style="font-size: 1.1em; line-height: 1.7;">MovieLens is a research dataset from the GroupLens Research lab at the University of Minnesota. It contains:</p>
                <ul style="font-size: 1.05em; line-height: 1.7;">
                    <li><strong>Millions of movie ratings</strong> from real users</li>
                    <li><strong>Movie metadata</strong> including titles, genres, and release years</li>
                    <li><strong>Used by researchers worldwide</strong> for recommendation systems and data science</li>
                    <li><strong>Free and open-source</strong> for educational use</li>
                </ul>
            </div>

            <div class="demo-box">
                <h3>What We'll Do</h3>
                <p style="font-size: 1.1em;">Replace your current <code>movie_rental_db.movies</code> table with real movie data from MovieLens, then learn professional bulk-loading techniques.</p>
            </div>
        </div>

        <!-- Slide 16: Download Instructions -->
        <div class="slide">
            <h1>Step 1: Download the Dataset <span class="emoji">‚¨áÔ∏è</span></h1>

            <div class="activity-box">
                <h3>Download Instructions</h3>
                <ol style="font-size: 1.2em; line-height: 1.8;">
                    <li><strong>Visit the GroupLens website:</strong>
                        <p style="margin: 10px 0; font-size: 0.9em;">
                            <a href="https://files.grouplens.org/datasets/movielens/ml-32m.zip" target="_blank" style="color: var(--ocu-true-blue);">
                                https://files.grouplens.org/datasets/movielens/ml-32m.zip
                            </a>
                        </p>
                    </li>
                    <li><strong>Download the ZIP file:</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>File name: <code>ml-32m.zip</code></li>
                            <li>Size: ~265 MB (may take a few minutes)</li>
                        </ul>
                    </li>
                    <li><strong>Extract the contents:</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>Right-click ‚Üí Extract All (Windows)</li>
                            <li>Or double-click to unzip (Mac/Linux)</li>
                        </ul>
                    </li>
                    <li><strong>Locate the <code>movies.csv</code> file:</strong>
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li>Inside the extracted folder: <code>ml-32m/movies.csv</code></li>
                            <li>This file contains all the movie metadata we need!</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Note the full path to your <code>movies.csv</code> file. You'll need it in the next step!
            </div>
        </div>

        <!-- Slide 17: Database Table Preparation -->
        <div class="slide">
            <h1>Step 2: Prepare Your Database Table <span class="emoji">üóÑÔ∏è</span></h1>

            <div class="concept-box">
                <h3>Understanding the Data Structure</h3>
                <p style="font-size: 1.1em; line-height: 1.7;">The MovieLens <code>movies.csv</code> file has this format:</p>
                <div class="code-example" style="font-size: 0.9em; margin-top: 10px;">
                    movieId,title,genres<br>
                    1,Toy Story (1995),Adventure|Animation|Children|Comedy|Fantasy<br>
                    2,Jumanji (1995),Adventure|Children|Fantasy<br>
                    3,Grumpier Old Men (1995),Comedy|Romance
                </div>
            </div>

            <div class="sql-example" style="margin-top: 20px;">
                <span class="sql-comment">-- Drop your old table and create a new one matching the CSV structure</span><br>
                <span class="sql-keyword">DROP TABLE IF EXISTS</span> movies <span class="sql-keyword">CASCADE</span>;<br><br>

                <span class="sql-keyword">CREATE TABLE</span> movies (<br>
                &nbsp;&nbsp;movie_id <span class="sql-keyword">INTEGER PRIMARY KEY</span>,<br>
                &nbsp;&nbsp;title <span class="sql-keyword">VARCHAR</span>(500) <span class="sql-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;genres <span class="sql-keyword">VARCHAR</span>(200)<br>
                );
            </div>

            <div class="warning-box" style="margin-top: 20px;">
                <strong>‚ö†Ô∏è Important:</strong> The <code>CASCADE</code> keyword will drop any tables that depend on the movies table (like rentals with foreign keys). Make sure you're okay with this, or adjust your schema accordingly!
            </div>
        </div>

        <!-- Slide 18: COPY Command Import -->
        <div class="slide">
            <h1>Step 3: Bulk Import with COPY <span class="emoji">‚ö°</span></h1>

            <div class="demo-box">
                <h3>The Professional Way to Load Data</h3>
                <p style="font-size: 1.1em; line-height: 1.7;">Instead of INSERT loops, PostgreSQL has a powerful <code>COPY</code> command designed for high-speed bulk imports.</p>
            </div>

            <div class="sql-example" style="margin-top: 20px;">
                <span class="sql-comment">-- Import the entire CSV in ONE command!</span><br>
                <span class="sql-keyword">COPY</span> movies(movie_id, title, genres)<br>
                <span class="sql-keyword">FROM</span> <span class="sql-string">'/path/to/your/ml-32m/movies.csv'</span><br>
                <span class="sql-keyword">DELIMITER</span> <span class="sql-string">','</span><br>
                <span class="sql-keyword">CSV HEADER</span>;
            </div>

            <div class="activity-box" style="margin-top: 20px;">
                <h3>Step-by-Step Execution:</h3>
                <ol style="font-size: 1.05em; line-height: 1.7;">
                    <li>Replace <code>/path/to/your/ml-32m/movies.csv</code> with your actual file path:
                        <ul style="font-size: 0.9em; margin-top: 8px;">
                            <li><strong>Windows:</strong> <code>'C:/Users/YourName/Downloads/ml-32m/movies.csv'</code></li>
                            <li><strong>Mac:</strong> <code>'/Users/YourName/Downloads/ml-32m/movies.csv'</code></li>
                            <li><strong>Linux:</strong> <code>'/home/yourname/Downloads/ml-32m/movies.csv'</code></li>
                        </ul>
                    </li>
                    <li>Run the command in DataGrip</li>
                    <li>Watch as <strong>86,000+ movies</strong> load in seconds!</li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Note:</strong> If you get a permission error, you may need to use <code>\COPY</code> instead of <code>COPY</code>, or ensure PostgreSQL has file access permissions.
            </div>
        </div>

        <!-- Slide 19: Why COPY is Better -->
        <div class="slide">
            <h1>Why COPY is Superior to INSERT Loops <span class="emoji">üöÄ</span></h1>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="comparison-card bad">
                    <h3>‚ùå DO $$ Loop Approach</h3>
                    <ul style="font-size: 0.95em; line-height: 1.6;">
                        <li><strong>1,000 separate transactions</strong> (one per INSERT)</li>
                        <li>Procedural code interpreted line-by-line</li>
                        <li>Each INSERT has full ACID overhead</li>
                        <li>Indexes updated after every row</li>
                        <li><strong>Time:</strong> Seconds to minutes for large datasets</li>
                    </ul>
                </div>

                <div class="comparison-card good">
                    <h3>‚úÖ COPY Command</h3>
                    <ul style="font-size: 0.95em; line-height: 1.6;">
                        <li><strong>One single bulk operation</strong></li>
                        <li>Direct file-to-table data streaming</li>
                        <li>Minimal transaction overhead</li>
                        <li>Indexes built efficiently after load</li>
                        <li><strong>Time:</strong> Milliseconds to seconds</li>
                    </ul>
                </div>
            </div>

            <div class="success-box" style="margin-top: 20px;">
                <h3>Real-World Performance Comparison</h3>
                <table class="table-schema" style="font-size: 0.95em;">
                    <thead>
                        <tr>
                            <th>Operation</th>
                            <th>DO $$ Loop</th>
                            <th>COPY Command</th>
                            <th>Speedup</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1,000 rows</td>
                            <td>~2 seconds</td>
                            <td>~0.05 seconds</td>
                            <td><strong>40x faster</strong></td>
                        </tr>
                        <tr>
                            <td>86,000 rows (MovieLens)</td>
                            <td>~3 minutes</td>
                            <td>~2 seconds</td>
                            <td><strong>90x faster</strong></td>
                        </tr>
                        <tr>
                            <td>1,000,000 rows</td>
                            <td>~30 minutes</td>
                            <td>~15 seconds</td>
                            <td><strong>120x faster</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="tip-box" style="margin-top: 20px;">
                <strong>Industry Practice:</strong> DBAs and data engineers always use bulk loading tools (COPY, LOAD DATA, BULK INSERT) for large datasets. This is how production systems ingest millions of records daily.
            </div>
        </div>

        <!-- Slide 20: Types of Keys Overview -->
        <div class="slide">
            <h1>Understanding Relational Keys</h1>
            <p>Keys are fundamental to maintaining data integrity and establishing relationships:</p>

            <div class="erd-diagram">
                <pre style="font-size: 1.1em;">
                    üîë Types of Keys

    Superkey ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ Any attribute(s) that uniquely identify tuples
         ‚îÇ
         ‚ñº
    Candidate Key ‚îÄ‚îÄ‚ñ∫ Minimal superkey (no redundant attributes)
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚ñ∫ Primary Key (chosen candidate key)
         ‚îÇ
         ‚îî‚îÄ‚îÄ‚ñ∫ Alternate Keys (other candidate keys)

    Foreign Key ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ References primary key in another relation
                </pre>
            </div>
        </div>

        <!-- Slide 21: Superkeys and Candidate Keys -->
        <div class="slide">
            <h1>Superkeys and Candidate Keys</h1>

            <div class="concept-box">
                <h3>üîì Superkey</h3>
                <p>An attribute or set of attributes that uniquely identifies a tuple within a relation.</p>
                <p><strong>Example:</strong> {staffNo}, {staffNo, fName}, {staffNo, fName, lName}</p>
            </div>

            <div class="concept-box">
                <h3>üîë Candidate Key</h3>
                <p>A minimal superkey - no proper subset is also a superkey.</p>
                <ul>
                    <li><strong>Uniqueness:</strong> Values uniquely identify each tuple</li>
                    <li><strong>Irreducibility:</strong> No attribute can be removed while maintaining uniqueness</li>
                </ul>
                <p><strong>Example:</strong> {staffNo}, {email} (if email is unique)</p>
            </div>
        </div>

        <!-- Slide 22: Primary and Foreign Keys -->
        <div class="slide">
            <h1>Primary and Foreign Keys</h1>

            <div class="concept-box">
                <h3>üéØ Primary Key</h3>
                <p>The candidate key selected to uniquely identify tuples in a relation.</p>
                <p><strong>Properties:</strong> Cannot be NULL, must be unique, ideally stable (doesn't change)</p>
            </div>

            <div class="concept-box">
                <h3>üîó Foreign Key</h3>
                <p>An attribute (or set) that matches the primary key of another (or same) relation.</p>
                <p><strong>Purpose:</strong> Establishes relationships between relations</p>
            </div>

            <div class="sql-example">
                <span class="sql-comment">-- Example: Foreign Key Constraint</span><br>
                <span class="sql-keyword">ALTER TABLE</span> Staff<br>
                <span class="sql-keyword">ADD CONSTRAINT</span> fk_branch<br>
                <span class="sql-keyword">FOREIGN KEY</span> (branchNo) <span class="sql-keyword">REFERENCES</span> Branch(branchNo);
            </div>
        </div>

        <!-- Slide 23: Practice with Keys -->
        <div class="slide">
            <h1>Activity: Identifying Keys <span class="emoji">üîç</span></h1>
            <div class="activity-box">
                <h3>15-Minute Exercise</h3>
                <p>Given the following Student relation, identify:</p>

                <table class="table-schema" style="font-size: 0.9em;">
                    <thead>
                        <tr>
                            <th>studentID</th>
                            <th>SSN</th>
                            <th>email</th>
                            <th>name</th>
                            <th>major</th>
                            <th>advisorID</th>
                        </tr>
                    </thead>
                </table>

                <ol>
                    <li>All possible superkeys</li>
                    <li>All candidate keys</li>
                    <li>Choose a primary key and justify your choice</li>
                    <li>Identify any foreign keys</li>
                    <li>What integrity constraints should apply?</li>
                </ol>
            </div>
            <button data-timer="15">Start 15-Minute Timer</button>
        </div>

        <!-- Slide 24: Integrity Constraints -->
        <div class="slide">
            <h1>Integrity Constraints</h1>
            <p>Rules that ensure data quality and consistency:</p>

            <div class="concept-box">
                <h3>1Ô∏è‚É£ Entity Integrity</h3>
                <p>No attribute of a primary key can be NULL.</p>
                <p><em>Rationale: Primary keys identify tuples; NULL would mean "unknown identity"</em></p>
            </div>

            <div class="concept-box">
                <h3>2Ô∏è‚É£ Referential Integrity</h3>
                <p>Foreign key values must either:</p>
                <ul>
                    <li>Match an existing primary key value in the referenced relation, OR</li>
                    <li>Be wholly NULL (if the relationship is optional)</li>
                </ul>
            </div>

            <div class="concept-box">
                <h3>3Ô∏è‚É£ Domain Constraints</h3>
                <p>Values must be from the specified domain (data type, range, format)</p>
            </div>
        </div>

        <!-- Slide 25: NULL Values -->
        <div class="slide">
            <h1>Understanding NULL Values</h1>

            <div class="concept-box">
                <h3>What is NULL?</h3>
                <p>Represents a value that is:</p>
                <ul>
                    <li>Currently unknown (e.g., unknown phone number)</li>
                    <li>Not applicable (e.g., spouse name for unmarried person)</li>
                    <li>Not yet available (e.g., exam grade before exam)</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Important:</strong> NULL is NOT the same as:
                <ul>
                    <li>Zero (0) - which is a numeric value</li>
                    <li>Empty string ("") - which is a string value</li>
                    <li>Space (" ") - which is a character value</li>
                </ul>
            </div>

            <div class="sql-example">
                <span class="sql-comment">-- Handling NULL in queries</span><br>
                <span class="sql-keyword">SELECT</span> * <span class="sql-keyword">FROM</span> Staff<br>
                <span class="sql-keyword">WHERE</span> bonus <span class="sql-keyword">IS NULL</span>;<br>
                <span class="sql-comment">-- Note: Use IS NULL, not = NULL</span>
            </div>
        </div>

        <!-- Slide 26: Relations vs. Files / Data Formats -->
        <div class="slide">
            <h1>Relations vs. Files & Modern Data Formats</h1>
            <p>Why use relations instead of flat files, and how they compare to modern formats:</p>

            <div class="comparison-table" style="margin-bottom: 20px;">
                <div class="comparison-card bad">
                    <h3>‚ùå Traditional Files</h3>
                    <ul style="font-size: 0.9em;">
                        <li>Physical storage focus</li>
                        <li>Order-dependent</li>
                        <li>Allows duplicate records</li>
                        <li>No built-in integrity</li>
                        <li>Complex relationships difficult</li>
                    </ul>
                </div>
                <div class="comparison-card good">
                    <h3>‚úÖ Relations</h3>
                    <ul style="font-size: 0.9em;">
                        <li>Logical structure focus</li>
                        <li>Order-independent</li>
                        <li>No duplicate tuples</li>
                        <li>Built-in integrity constraints</li>
                        <li>Easy relationship modeling</li>
                    </ul>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div>
                    <h3 style="font-size: 1.1em;">JSON Format</h3>
                    <div class="json-example" style="font-size: 0.7em;">
[<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"name"</span>: <span class="json-string">"Bobby Reed"</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"id"</span>: <span class="json-number">1</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="json-key">"email"</span>: <span class="json-string">"breed@okcu.edu"</span><br>
&nbsp;&nbsp;}<br>
]
                    </div>
                </div>

                <div>
                    <h3 style="font-size: 1.1em;">XML Format</h3>
                    <div class="xml-example" style="font-size: 0.7em;">
<span class="xml-tag">&lt;Students&gt;</span><br>
&nbsp;&nbsp;<span class="xml-tag">&lt;Student</span> <span class="xml-attribute">Id</span>=<span class="xml-value">"1234"</span><span class="xml-tag">&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="xml-tag">&lt;Name&gt;</span>Bobby Reed<span class="xml-tag">&lt;/Name&gt;</span><br>
&nbsp;&nbsp;<span class="xml-tag">&lt;/Student&gt;</span><br>
<span class="xml-tag">&lt;/Students&gt;</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PART 3: SQL IMPLEMENTATION ==================== -->

        <!-- Slide 27: Creating Relations in SQL -->
        <div class="slide">
            <h1>Creating Relations with SQL</h1>
            <p>Let's see how to implement our conceptual model in SQL:</p>

            <div class="sql-example">
                <span class="sql-comment">-- Create the Branch relation</span><br>
                <span class="sql-keyword">CREATE TABLE</span> Branch (<br>
                &nbsp;&nbsp;branchNo <span class="sql-keyword">VARCHAR</span>(4) <span class="sql-keyword">PRIMARY KEY</span>,<br>
                &nbsp;&nbsp;street <span class="sql-keyword">VARCHAR</span>(50) <span class="sql-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;city <span class="sql-keyword">VARCHAR</span>(30) <span class="sql-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;postcode <span class="sql-keyword">VARCHAR</span>(10)<br>
                );<br><br>

                <span class="sql-comment">-- Create the Staff relation with foreign key</span><br>
                <span class="sql-keyword">CREATE TABLE</span> Staff (<br>
                &nbsp;&nbsp;staffNo <span class="sql-keyword">VARCHAR</span>(5) <span class="sql-keyword">PRIMARY KEY</span>,<br>
                &nbsp;&nbsp;fName <span class="sql-keyword">VARCHAR</span>(20) <span class="sql-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;lName <span class="sql-keyword">VARCHAR</span>(20) <span class="sql-keyword">NOT NULL</span>,<br>
                &nbsp;&nbsp;position <span class="sql-keyword">VARCHAR</span>(20),<br>
                &nbsp;&nbsp;sex <span class="sql-keyword">CHAR</span>(1) <span class="sql-keyword">CHECK</span> (sex <span class="sql-keyword">IN</span> ('M', 'F')),<br>
                &nbsp;&nbsp;DOB <span class="sql-keyword">DATE</span>,<br>
                &nbsp;&nbsp;salary <span class="sql-keyword">DECIMAL</span>(8,2) <span class="sql-keyword">CHECK</span> (salary > 0),<br>
                &nbsp;&nbsp;branchNo <span class="sql-keyword">VARCHAR</span>(4),<br>
                &nbsp;&nbsp;<span class="sql-keyword">FOREIGN KEY</span> (branchNo) <span class="sql-keyword">REFERENCES</span> Branch(branchNo)<br>
                );
            </div>
        </div>

        <!-- Slide 28: General Constraints -->
        <div class="slide">
            <h1>Business Rules as General Constraints</h1>
            <p>Beyond basic integrity, we often need business-specific rules:</p>

            <div class="concept-box">
                <h3>Examples of General Constraints</h3>
                <ul>
                    <li>üìä "Maximum 20 staff members per branch"</li>
                    <li>üí∞ "Manager salary must be > Assistant salary"</li>
                    <li>üìÖ "Staff must be at least 18 years old"</li>
                    <li>üéì "Students can enroll in maximum 6 courses per semester"</li>
                </ul>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div class="sql-example">
                    <span class="sql-comment">-- Implementing a business rule with a trigger</span><br>
                    <span class="sql-keyword">CREATE TRIGGER</span> check_branch_capacity<br>
                    <span class="sql-keyword">BEFORE INSERT ON</span> Staff<br>
                    <span class="sql-keyword">FOR EACH ROW</span><br>
                    <span class="sql-keyword">BEGIN</span><br>
                    &nbsp;&nbsp;<span class="sql-keyword">DECLARE</span> staff_count <span class="sql-keyword">INT</span>;<br>
                    &nbsp;&nbsp;<span class="sql-keyword">SELECT COUNT</span>(*) <span class="sql-keyword">INTO</span> staff_count<br>
                    &nbsp;&nbsp;<span class="sql-keyword">FROM</span> Staff <span class="sql-keyword">WHERE</span> branchNo = NEW.branchNo;<br>
                    &nbsp;&nbsp;<span class="sql-keyword">IF</span> staff_count >= 20 <span class="sql-keyword">THEN</span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">SIGNAL SQLSTATE</span> '45000'<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">SET MESSAGE_TEXT</span> = 'Branch capacity exceeded';<br>
                    &nbsp;&nbsp;<span class="sql-keyword">END IF</span>;<br>
                    <span class="sql-keyword">END</span>;
                </div>

                <div class="demo-box">
                    <h3>Understanding Trigger Syntax</h3>
                    <div style="font-size: 0.95em; line-height: 1.7;">
                        <p><strong>NEW.branchNo</strong></p>
                        <ul style="font-size: 0.9em; margin-left: 20px; margin-bottom: 15px;">
                            <li><code>NEW</code> is a special reference to the row being inserted</li>
                            <li><code>NEW.branchNo</code> accesses the branchNo value from the new row</li>
                            <li>Use <code>OLD</code> for UPDATE/DELETE triggers to reference previous values</li>
                        </ul>

                        <p><strong>SIGNAL SQLSTATE '45000'</strong></p>
                        <ul style="font-size: 0.9em; margin-left: 20px;">
                            <li>Raises a custom error to abort the operation</li>
                            <li><code>'45000'</code> is the standard code for user-defined exceptions</li>
                            <li><code>MESSAGE_TEXT</code> provides a human-readable error message</li>
                            <li>The INSERT will be rolled back when this error is raised</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 29: SQL Syntax Cheat Sheet -->
        <div class="slide">
            <h1>SQL Syntax Cheat Sheet <span class="emoji">üìã</span></h1>
            <h2>Keep This Slide Up During The Exercise!</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 0.8em;">
                <div class="demo-box">
                    <h3>CREATE TABLE</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-keyword">CREATE TABLE</span> Vehicles (<br>
&nbsp;&nbsp;vehicle_id <span class="sql-keyword">SERIAL PRIMARY KEY</span>,<br>
&nbsp;&nbsp;make <span class="sql-keyword">VARCHAR</span>(50) <span class="sql-keyword">NOT NULL</span>,<br>
&nbsp;&nbsp;model <span class="sql-keyword">VARCHAR</span>(50),<br>
&nbsp;&nbsp;year <span class="sql-keyword">INTEGER</span>,<br>
&nbsp;&nbsp;daily_rate <span class="sql-keyword">DECIMAL</span>(6,2),<br>
&nbsp;&nbsp;location_id <span class="sql-keyword">INTEGER</span>,<br>
&nbsp;&nbsp;<span class="sql-keyword">FOREIGN KEY</span> (location_id)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="sql-keyword">REFERENCES</span> Locations(location_id)<br>
);
                    </div>
                </div>

                <div class="demo-box">
                    <h3>INSERT DATA</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-keyword">INSERT INTO</span> Vehicles<br>
&nbsp;&nbsp;(make, model, year, daily_rate)<br>
<span class="sql-keyword">VALUES</span><br>
&nbsp;&nbsp;(<span class="sql-string">'Toyota'</span>, <span class="sql-string">'Camry'</span>, 2023, 45.00),<br>
&nbsp;&nbsp;(<span class="sql-string">'Honda'</span>, <span class="sql-string">'Civic'</span>, 2022, 40.00);
                    </div>
                </div>

                <div class="demo-box">
                    <h3>SELECT with JOIN</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-keyword">SELECT</span> v.make, v.model, r.rental_date<br>
<span class="sql-keyword">FROM</span> Vehicles v<br>
<span class="sql-keyword">JOIN</span> Rentals r<br>
&nbsp;&nbsp;<span class="sql-keyword">ON</span> v.vehicle_id = r.vehicle_id<br>
<span class="sql-keyword">WHERE</span> r.return_date <span class="sql-keyword">IS NULL</span>;
                    </div>
                </div>

                <div class="demo-box">
                    <h3>ALTER TABLE</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-comment">-- Add column</span><br>
<span class="sql-keyword">ALTER TABLE</span> Vehicles<br>
<span class="sql-keyword">ADD COLUMN</span> mileage <span class="sql-keyword">INTEGER</span>;<br><br>

<span class="sql-comment">-- Add constraint</span><br>
<span class="sql-keyword">ALTER TABLE</span> Rentals<br>
<span class="sql-keyword">ADD CONSTRAINT</span> fk_customer<br>
<span class="sql-keyword">FOREIGN KEY</span> (customer_id)<br>
<span class="sql-keyword">REFERENCES</span> Customers(customer_id);
                    </div>
                </div>

                <div class="demo-box">
                    <h3>AGGREGATE Functions</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-keyword">SELECT</span><br>
&nbsp;&nbsp;<span class="sql-keyword">COUNT</span>(*) <span class="sql-keyword">AS</span> total_rentals,<br>
&nbsp;&nbsp;<span class="sql-keyword">SUM</span>(total_cost) <span class="sql-keyword">AS</span> revenue,<br>
&nbsp;&nbsp;<span class="sql-keyword">AVG</span>(daily_rate) <span class="sql-keyword">AS</span> avg_rate<br>
<span class="sql-keyword">FROM</span> Rentals r<br>
<span class="sql-keyword">JOIN</span> Vehicles v<br>
&nbsp;&nbsp;<span class="sql-keyword">ON</span> r.vehicle_id = v.vehicle_id;
                    </div>
                </div>

                <div class="demo-box">
                    <h3>UPDATE & DELETE</h3>
                    <div class="sql-example" style="font-size: 0.85em;">
<span class="sql-comment">-- Update</span><br>
<span class="sql-keyword">UPDATE</span> Vehicles<br>
<span class="sql-keyword">SET</span> daily_rate = 50.00<br>
<span class="sql-keyword">WHERE</span> make = <span class="sql-string">'Toyota'</span>;<br><br>

<span class="sql-comment">-- Delete</span><br>
<span class="sql-keyword">DELETE FROM</span> Rentals<br>
<span class="sql-keyword">WHERE</span> return_date < <span class="sql-string">'2020-01-01'</span>;
                    </div>
                </div>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Create parent tables (Locations, Customers, Vehicles) BEFORE child tables (Rentals) to avoid foreign key errors!
            </div>
        </div>

        <!-- ==================== PART 4: CAR RENTAL CHALLENGE ==================== -->

        <!-- Slide 30: Challenge Overview -->
        <div class="slide">
            <h1>Skills Check: Build car_rental_db <span class="emoji">üöó</span></h1>
            <h2>30-Minute Database Challenge</h2>

            <div class="warning-box">
                <h3>Your Mission:</h3>
                <p style="font-size: 1.15em;">Create a <strong>complete working database</strong> from scratch for a car rental company. Design the schema, create tables with relationships, populate with data, and run queries‚Äîall in 30 minutes!</p>
            </div>

            <div class="demo-box">
                <h3>What You'll Build:</h3>
                <ul style="font-size: 1.1em; line-height: 1.8;">
                    <li>üöó <strong>Vehicles:</strong> Track rental cars (make, model, year, VIN, category, daily rate)</li>
                    <li>üë§ <strong>Customers:</strong> Manage customer information (name, license number, contact info)</li>
                    <li>üìã <strong>Rentals:</strong> Record rental transactions (dates, pickup/return locations, total cost)</li>
                    <li>üìç <strong>Locations:</strong> Rental branch offices (address, phone, manager)</li>
                </ul>
            </div>

            <div class="success-box">
                <h3>üéØ Goals:</h3>
                <p>By the end of 30 minutes, you'll demonstrate mastery of relational model concepts: entities, attributes, keys, relationships, integrity constraints, and SQL DDL/DML.</p>
            </div>

            <button data-timer="30">Start 30-Minute Timer</button>
        </div>

        <!-- Slide 31: Phase 1: Design & Create -->
        <div class="slide">
            <h1>Challenge Requirements & Tasks</h1>

            <div class="activity-box">
                <h3>Phase 1: Design & Create (15 minutes)</h3>
                <ol style="font-size: 1.05em; line-height: 1.7;">
                    <li><strong>Create the Database:</strong>
                        <ul style="margin-top: 8px;">
                            <li>Open DataGrip, create new database: <code>car_rental_db</code></li>
                            <li>Connect to your new database</li>
                        </ul>
                    </li>
                    <li><strong>Design 4 Tables with Relationships:</strong>
                        <ul style="margin-top: 8px;">
                            <li><strong>Locations</strong> - Rental branch offices</li>
                            <li><strong>Vehicles</strong> - Cars available for rent</li>
                            <li><strong>Customers</strong> - People renting cars</li>
                            <li><strong>Rentals</strong> - Transaction records linking customers to vehicles</li>
                        </ul>
                    </li>
                    <li><strong>Implement Keys & Constraints:</strong>
                        <ul style="margin-top: 8px;">
                            <li>PRIMARY KEY on each table (use SERIAL for auto-increment)</li>
                            <li>FOREIGN KEYS: Vehicles‚ÜíLocations, Rentals‚ÜíVehicles, Rentals‚ÜíCustomers</li>
                            <li>NOT NULL on critical fields (names, dates, license numbers)</li>
                            <li>At least ONE CHECK constraint (e.g., daily_rate > 0, rental_date < return_date)</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Slide 32: Phase 2: Populate & Query -->
        <div class="slide">
            <h1>Challenge Requirements & Tasks (cont.)</h1>

            <div class="activity-box">
                <h3>Phase 2: Populate & Query (10 minutes)</h3>
                <ol start="4" style="font-size: 1.05em; line-height: 1.7;">
                    <li><strong>Insert Sample Data:</strong>
                        <ul style="margin-top: 8px;">
                            <li>At least 3 Locations</li>
                            <li>At least 6 Vehicles (mix of makes/models, distributed across locations)</li>
                            <li>At least 4 Customers</li>
                            <li>At least 5 Rentals (some completed with return dates, some still active)</li>
                        </ul>
                    </li>
                    <li><strong>Write & Run 3 Queries:</strong>
                        <ul style="margin-top: 8px;">
                            <li><strong>Query 1 (SIMPLE):</strong> List all available vehicles at a specific location</li>
                            <li><strong>Query 2 (JOIN):</strong> Show all active rentals with customer name and vehicle details</li>
                            <li><strong>Query 3 (AGGREGATE):</strong> Calculate total revenue per location</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Slide 33: Phase 3: ER Diagram -->
        <div class="slide">
            <h1>Challenge Requirements & Tasks (cont.)</h1>

            <div class="activity-box">
                <h3>Phase 3: Present Your ER Diagram (5 minutes)</h3>
                <ol start="6" style="font-size: 1.05em; line-height: 1.7;">
                    <li><strong>Generate ER Diagram in DataGrip:</strong>
                        <ul style="margin-top: 8px;">
                            <li>Right-click your database ‚Üí Diagrams ‚Üí Show Visualization</li>
                            <li>Arrange tables to clearly show relationships</li>
                            <li>Be ready to share your screen and explain your design!</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="tip-box">
                <strong>Pro Tip:</strong> Your ER diagram should clearly show:
                <ul style="font-size: 1.05em; margin-top: 10px;">
                    <li>All four tables (Locations, Vehicles, Customers, Rentals)</li>
                    <li>Primary keys highlighted</li>
                    <li>Foreign key relationships with connecting lines</li>
                    <li>Cardinality indicators (1:N relationships)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 34: Design Hints -->
        <div class="slide">
            <h1>Design Hints & Suggestions</h1>

            <div class="comparison-table">
                <div class="column">
                    <div class="demo-box">
                        <h3>Suggested Attributes</h3>
                        <p style="font-size: 0.9em;"><strong>Locations:</strong></p>
                        <ul style="font-size: 0.85em;">
                            <li>location_id (PK)</li>
                            <li>name, address, city, state</li>
                            <li>phone, manager_name</li>
                        </ul>

                        <p style="font-size: 0.9em; margin-top: 15px;"><strong>Vehicles:</strong></p>
                        <ul style="font-size: 0.85em;">
                            <li>vehicle_id (PK)</li>
                            <li>vin, make, model, year</li>
                            <li>category (economy/luxury/SUV)</li>
                            <li>daily_rate, location_id (FK)</li>
                        </ul>
                    </div>
                </div>

                <div class="column">
                    <div class="demo-box">
                        <h3>&nbsp;</h3>
                        <p style="font-size: 0.9em;"><strong>Customers:</strong></p>
                        <ul style="font-size: 0.85em;">
                            <li>customer_id (PK)</li>
                            <li>first_name, last_name</li>
                            <li>license_number, phone, email</li>
                        </ul>

                        <p style="font-size: 0.9em; margin-top: 15px;"><strong>Rentals:</strong></p>
                        <ul style="font-size: 0.85em;">
                            <li>rental_id (PK)</li>
                            <li>vehicle_id (FK), customer_id (FK)</li>
                            <li>rental_date, return_date</li>
                            <li>pickup_location_id, return_location_id</li>
                            <li>total_cost</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <h3>‚ö†Ô∏è Common Mistakes to Avoid:</h3>
                <ul style="font-size: 1.0em;">
                    <li>üö´ Creating child tables before parent tables (causes FK errors)</li>
                    <li>üö´ Forgetting NOT NULL on important fields like names and dates</li>
                    <li>üö´ Using the same data type for all columns (dates are DATE, prices are DECIMAL!)</li>
                    <li>üö´ Not testing your foreign key relationships with INSERT statements</li>
                </ul>
            </div>
        </div>

        <!-- Slide 35: Video - Relational Model Overview -->
        <div class="slide">
            <h1>Video: Relational Model in Practice</h1>

            <div style="display: flex; justify-content: center; align-items: center; height: 70vh;">
                <iframe
                    width="960"
                    height="540"
                    src="https://www.youtube.com/embed/_UZLrD_R0T4"
                    title="Relational Model Video"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    style="border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">
                </iframe>
            </div>
        </div>

        <!-- ==================== PART 5: IN-CLASS EXERCISES ==================== -->

        <!-- Slide 36: Exercise Overview -->
        <div class="slide">
            <h1>In-Class Exercises <span class="emoji">üèóÔ∏è</span></h1>
            <h2>Extending car_rental_db <span class="timer-badge">40 minutes</span></h2>

            <div class="demo-box">
                <h3>Exercise Overview</h3>
                <p style="font-size: 1.2em;">Now that you've built the core car_rental_db schema, it's time to extend it with advanced features. You'll add insurance tracking, vehicle maintenance records, and customer loyalty programs.</p>
            </div>

            <div class="activity-box">
                <h3>Learning Objectives</h3>
                <ul style="font-size: 1.15em;">
                    <li>‚úÖ Design new tables that integrate with existing schema</li>
                    <li>‚úÖ Implement complex foreign key relationships</li>
                    <li>‚úÖ Add business logic through CHECK constraints</li>
                    <li>‚úÖ Practice incremental database evolution</li>
                    <li>‚úÖ Query across multiple related tables</li>
                </ul>
            </div>

            <button data-timer="40">Start 40-Minute Timer</button>
        </div>

        <!-- ==================== PART 6: HOMEWORK ==================== -->

        <!-- Slide 37: Homework Overview -->
        <div class="slide">
            <h1>Homework Assignment <span class="emoji">üìù</span></h1>
            <h2>Week 4: Complete car_rental_db Implementation</h2>

            <div class="demo-box">
                <h3>Assignment Overview</h3>
                <p style="font-size: 1.15em;">Your homework is to complete the car_rental_db implementation from today's challenge. If you finished during class, extend it with additional features. If not, this is your opportunity to finish and polish your work.</p>
            </div>

            <div class="warning-box">
                <h3>Due Date: <strong>Before Class Next Week</strong></h3>
                <p>Submit via Commit URL turned into D2L</p>
            </div>

            <div class="activity-box">
                <h3>Assignment Components:</h3>
                <p style="font-size: 1.15em; line-height: 1.8;">The only thing you need to turn in is your four tables as one pdf. Please see lecture 4 for specifics.</p>

                <p style="font-size: 1.1em; margin-top: 15px;"><strong>Your ER diagram should clearly show:</strong></p>
                <ul style="font-size: 1.05em; line-height: 1.7; margin-left: 20px;">
                    <li>All four tables (Locations, Vehicles, Customers, Rentals)</li>
                    <li>Primary keys highlighted</li>
                    <li>Foreign key relationships with connecting lines</li>
                    <li>Cardinality indicators (1:N relationships)</li>
                </ul>
                <p style="margin-top: 15px; font-size: 1.1em;"><strong>Total Points: 150</strong></p>
            </div>
        </div>

        <!-- Slide 38: Submission Requirements -->
        <div class="slide">
            <h1>Submission Requirements <span class="emoji">‚úÖ</span></h1>

            <div class="demo-box">
                <h3>What to Submit:</h3>
                <p style="font-size: 1.3em; line-height: 1.8; margin: 20px 0;">
                    <strong>One PDF file</strong> containing your ER diagram showing all four tables (Locations, Vehicles, Customers, Rentals)
                </p>
            </div>

            <div class="success-box">
                <h3>How to Create Your Submission:</h3>
                <ol style="font-size: 1.15em; line-height: 1.8;">
                    <li>In DataGrip: Right-click your database ‚Üí Diagrams ‚Üí Show Visualization</li>
                    <li>Arrange tables to clearly show all relationships</li>
                    <li>Take a screenshot or export the diagram</li>
                    <li>Save as PDF (or convert screenshot to PDF)</li>
                    <li>Verify your diagram includes:
                        <ul style="margin-top: 10px;">
                            <li>All four tables with their columns</li>
                            <li>Primary keys highlighted (usually with key icon)</li>
                            <li>Foreign key relationship lines connecting tables</li>
                            <li>Cardinality notation (1:N or similar)</li>
                        </ul>
                    </li>
                </ol>
            </div>

            <div class="warning-box">
                <h3>Submission:</h3>
                <p style="font-size: 1.2em;">Submit your PDF to D2L before next class.</p>
                <p style="font-size: 1.1em; margin-top: 10px;"><strong>Worth: 150 points</strong></p>
            </div>
        </div>

        <!-- Slide 39: Summary -->
        <div class="slide">
            <h1>Today's Takeaways <span class="emoji">üéì</span></h1>
            <h2>You Can Now:</h2>
            <ul style="font-size: 1.3em; line-height: 2;">
                <li>‚úÖ Define and identify relations, attributes, tuples, and domains</li>
                <li>‚úÖ Distinguish between different types of keys</li>
                <li>‚úÖ Apply entity and referential integrity constraints</li>
                <li>‚úÖ Design complete relational database schemas</li>
                <li>‚úÖ Implement databases with proper constraints in SQL</li>
                <li>‚úÖ Build real-world database applications from scratch</li>
            </ul>

            <div class="demo-box" style="margin-top: 30px;">
                <p><strong>Next Lecture:</strong> Relational Algebra - Query Operations</p>
                <p><strong>Homework:</strong> Complete car_rental_db implementation (due next week)</p>
            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="navigation">
            <button id="prevBtn">Previous</button>
            <span class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">42</span>
            </span>
            <button id="nextBtn">Next</button>
        </div>
    </div>

    <!-- Shared Presentation JavaScript -->
    <script src="../../js/presentation.js"></script>

    <!-- Lecture-Specific JavaScript -->
    <script>
        // Add any specific interactions for this lecture
        document.addEventListener('slidechange', (e) => {
            console.log(`Slide ${e.detail.currentSlide + 1} of ${e.detail.totalSlides}`);
            
            // Highlight code examples when shown
            if (e.detail.currentSlide === 26) { // SQL creation slide (Slide 27: Creating Relations in SQL)
                const codeBlocks = document.querySelectorAll('.sql-example');
                codeBlocks.forEach(block => {
                    block.style.animation = 'slideIn 0.5s ease-in-out';
                });
            }
        });

        // Add keyboard shortcuts info
        document.addEventListener('keydown', (e) => {
            if (e.key === '?' && e.shiftKey) {
                alert('Keyboard Shortcuts:\n\n' +
                      '‚Üê / ‚Üí : Navigate slides\n' +
                      'Space: Next slide\n' +
                      'F: Fullscreen\n' +
                      'T: Toggle theme\n' +
                      'H: Home (first slide)\n' +
                      'E: End (last slide)');
            }
        });
    </script>
</body>
</html>